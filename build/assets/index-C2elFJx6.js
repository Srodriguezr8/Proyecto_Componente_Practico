import{j as e,c as Ws,R as Ts,T as Is,I as Hs,V as Vs,P as Ls,C as Os,a as Ks,b as Bs,d as qs,e as Gs,S as Us,f as Xs,g as Zs,h as xe,u as ts,i as we,k as Fe,l as rs,m as ns,n as is,o as Ys,L as Qs,p as Js,q as ea,r as sa,s as aa,t as ta,v as ra,w as na,x as ia,y as oa,z as la,D as ca,A as da,O as ma,B as xa,E as ua,H as ha,F as pa,G as ga}from"./ui-components-DhLoz52a.js";import{e as fa,a as p,c as va,f as oe,P as ja,g as ba,C as Na,T as le,L as os,h as he,X as pe,Y as ge,i as fe,j as ae,A as ya,k as wa,B as ka,l as Oe}from"./charts-CgoNhumx.js";import{t as Ca,c as ls}from"./vendor-BNe0Xlio.js";import{_ as Sa}from"./pdf-export-DazCCdzZ.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}})();var ue={},Ke;function Da(){if(Ke)return ue;Ke=1;var s=fa();return ue.createRoot=s.createRoot,ue.hydrateRoot=s.hydrateRoot,ue}var Ea=Da();function w(...s){return Ca(ls(s))}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pa=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,t,i)=>i?i.toUpperCase():t.toLowerCase()),Be=s=>{const a=Pa(s);return a.charAt(0).toUpperCase()+a.slice(1)},cs=(...s)=>s.filter((a,t,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=p.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:n="",children:l,iconNode:c,...x},g)=>p.createElement("svg",{ref:g,...Fa,width:a,height:a,stroke:s,strokeWidth:i?Number(t)*24/Number(a):t,className:cs("lucide",n),...x},[...c.map(([u,m])=>p.createElement(u,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=(s,a)=>{const t=p.forwardRef(({className:i,...n},l)=>p.createElement(Ma,{ref:l,iconNode:a,className:cs(`lucide-${Aa(Be(s))}`,`lucide-${s}`,i),...n}));return t.displayName=Be(s),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Q=y("activity",za);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_a=y("award",Ra);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Wa=y("bell",$a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],De=y("brain",Ta);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Me=y("calendar",Ia);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ve=y("chart-column",Ha);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],La=y("chart-line",Va);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],qe=y("chart-no-axes-column-increasing",Oa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$e=y("check",Ka);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],We=y("chevron-down",Ba);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ga=y("chevron-up",qa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ce=y("circle-alert",Ua);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U=y("circle-check",Xa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ya=y("circle-x",Za);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ja=y("database",Qa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],je=y("dollar-sign",et);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Te=y("download",st);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tt=y("eye-off",at);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ze=y("eye",rt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],it=y("file-down",nt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],lt=y("file-spreadsheet",ot);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z=y("file-text",ct);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mt=y("funnel",dt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ut=y("globe",xt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pt=y("info",ht);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ft=y("layout-dashboard",gt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Ee=y("leaf",vt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],be=y("lightbulb",jt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nt=y("loader-circle",bt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wt=y("lock",yt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ct=y("log-out",kt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ds=y("mail",St);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"M5 12h14",key:"1ays0h"}]],Et=y("minus",Dt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ge=y("monitor",At);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ft=y("pen",Pt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zt=y("save",Mt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_t=y("send",Rt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ms=y("settings",$t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ie=y("shield",Wt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],It=y("target",Tt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Vt=y("tree-pine",Ht);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],xs=y("trending-down",Lt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],V=y("trending-up",Ot);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ne=y("triangle-alert",Kt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],us=y("upload",Bt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Re=y("user",qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ut=y("users",Gt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],_e=y("waves",Xt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Yt=y("wifi",Zt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ie=y("x",Qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],R=y("zap",Jt);function er({currentPage:s,onPageChange:a,onLogout:t}){const[i,n]=p.useState(!1),l=x=>{i?a(x):(n(!0),setTimeout(()=>a(x),150))},c=[{id:"about",name:"¿Quiénes Somos?",icon:pt,description:"Información del sistema"},{id:"dashboard",name:"Tablero",icon:ft,description:"Vista general y monitoreo"},{id:"analytics",name:"Análisis",icon:ve,description:"Análisis avanzados"},{id:"configuration",name:"Configuración",icon:ms,description:"Ajustes del sistema"},{id:"reports",name:"Reportes",icon:Z,description:"Generar reportes"},{id:"sparkcheck",name:"SparkCheck",icon:be,description:"Asistente IA"},{id:"settings",name:"Ajustes y Perfil",icon:Re,description:"Preferencias de usuario"}];return e.jsx("div",{className:"ml-6 my-6",children:e.jsxs("div",{className:w("flex flex-col h-[calc(100vh-3rem)] transition-all duration-300 ease-in-out rounded-3xl","bg-gradient-to-b from-sidebar via-sidebar to-sidebar-accent shadow-2xl border border-sidebar-border/20 overflow-hidden",i?"w-64":"w-20"),children:[e.jsxs("div",{className:"p-6 flex flex-col items-center relative",children:[i&&e.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 w-8 h-8 bg-sidebar-accent/50 hover:bg-sidebar-accent rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110",children:e.jsx(Ie,{className:"w-4 h-4 text-sidebar-foreground"})}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(R,{className:"w-6 h-6 text-sidebar-primary-foreground"})}),i&&e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("h2",{className:"text-sidebar-foreground font-semibold text-base whitespace-nowrap",children:"Control EMS"}),e.jsx("p",{className:"text-sidebar-foreground/70 text-xs whitespace-nowrap mt-1",children:"Gestión de Energía"})]})]}),e.jsx("nav",{className:"flex-1 px-4 py-6",children:e.jsx("div",{className:"space-y-4",children:c.map(x=>{const g=x.icon,u=s===x.id;return e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>l(x.id),className:w("transition-all duration-300 flex items-center relative overflow-hidden","hover:scale-110 hover:shadow-lg",i?"w-full px-4 py-3 justify-start rounded-xl":"w-12 h-12 justify-center mx-auto rounded-full",u?"bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 shadow-lg shadow-sidebar-primary/30 scale-105":"bg-gradient-to-br from-sidebar-accent to-sidebar-accent/80 hover:from-sidebar-primary/80 hover:to-sidebar-primary/60"),children:[e.jsx(g,{className:w("transition-colors duration-300 flex-shrink-0","w-5 h-5",u?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground group-hover:text-sidebar-primary-foreground")}),i&&e.jsxs("div",{className:"ml-3 overflow-hidden",children:[e.jsx("div",{className:w("font-medium text-sm whitespace-nowrap transition-colors duration-300",u?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground group-hover:text-sidebar-primary-foreground"),children:x.name}),u&&e.jsx("div",{className:"text-xs text-sidebar-primary-foreground/70 mt-0.5 whitespace-nowrap",children:x.description})]}),u&&!i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-sidebar-primary opacity-20 animate-pulse"}),e.jsx("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 w-1 h-6 bg-sidebar-primary rounded-l-full"})]}),u&&i&&e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-2 h-2 bg-sidebar-primary-foreground rounded-full animate-pulse"})]}),!i&&e.jsxs("div",{className:"absolute left-full ml-4 px-3 py-2 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/90 text-sidebar-primary-foreground rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 shadow-lg transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:x.description}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-sidebar-primary rotate-45"})]})]},x.id)})})}),e.jsxs("div",{className:"p-4 space-y-3",children:[i&&e.jsxs("div",{className:"bg-sidebar-accent/30 px-3 py-2 rounded-lg backdrop-blur-sm mb-2",children:[e.jsx("div",{className:"text-sidebar-foreground font-medium text-sm whitespace-nowrap",children:"Liam Gallagher"}),e.jsx("div",{className:"text-sidebar-foreground/70 text-xs whitespace-nowrap",children:"Administrador del Sistema"})]}),e.jsxs("div",{className:"relative group flex justify-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",onClick:()=>n(!i),children:e.jsx("span",{className:"text-sidebar-primary-foreground font-semibold text-lg",children:"LG"})}),!i&&e.jsxs("div",{className:"absolute left-full ml-4 top-1/2 -translate-y-1/2 px-3 py-2 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/90 text-sidebar-primary-foreground rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 shadow-lg transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("div",{className:"font-medium text-sm",children:"Liam Gallagher"}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Administrador del Sistema"}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-sidebar-primary rotate-45"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:t,className:w("transition-all duration-300 flex items-center relative overflow-hidden","hover:scale-110 hover:shadow-lg",i?"w-full px-4 py-3 justify-start rounded-xl":"w-12 h-12 justify-center mx-auto rounded-full","bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"),children:[e.jsx(Ct,{className:"w-5 h-5 text-white flex-shrink-0"}),i&&e.jsx("span",{className:"ml-3 font-medium text-sm text-white whitespace-nowrap",children:"Cerrar Sesión"})]}),!i&&e.jsxs("div",{className:"absolute left-full ml-4 top-1/2 -translate-y-1/2 px-3 py-2 bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 shadow-lg transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("div",{className:"font-medium text-sm",children:"Cerrar Sesión"}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Salir del sistema"}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-red-500 rotate-45"})]})]})]})]})})}var sr=Symbol.for("react.lazy"),ye=va[" use ".trim().toString()];function ar(s){return typeof s=="object"&&s!==null&&"then"in s}function hs(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===sr&&"_payload"in s&&ar(s._payload)}function He(s){const a=tr(s),t=p.forwardRef((i,n)=>{let{children:l,...c}=i;hs(l)&&typeof ye=="function"&&(l=ye(l._payload));const x=p.Children.toArray(l),g=x.find(nr);if(g){const u=g.props.children,m=x.map(d=>d===g?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return e.jsx(a,{...c,ref:n,children:p.isValidElement(u)?p.cloneElement(u,void 0,m):null})}return e.jsx(a,{...c,ref:n,children:l})});return t.displayName=`${s}.Slot`,t}var ps=He("Slot");function tr(s){const a=p.forwardRef((t,i)=>{let{children:n,...l}=t;if(hs(n)&&typeof ye=="function"&&(n=ye(n._payload)),p.isValidElement(n)){const c=or(n),x=ir(l,n.props);return n.type!==p.Fragment&&(x.ref=i?Ws(i,c):c),p.cloneElement(n,x)}return p.Children.count(n)>1?p.Children.only(null):null});return a.displayName=`${s}.SlotClone`,a}var rr=Symbol("radix.slottable");function nr(s){return p.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===rr}function ir(s,a){const t={...a};for(const i in a){const n=s[i],l=a[i];/^on[A-Z]/.test(i)?n&&l?t[i]=(...x)=>{const g=l(...x);return n(...x),g}:n&&(t[i]=n):i==="style"?t[i]={...n,...l}:i==="className"&&(t[i]=[n,l].filter(Boolean).join(" "))}return{...s,...t}}function or(s){let a=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,t=a&&"isReactWarning"in a&&a.isReactWarning;return t?s.ref:(a=Object.getOwnPropertyDescriptor(s,"ref")?.get,t=a&&"isReactWarning"in a&&a.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}const Ue=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Xe=ls,Ve=(s,a)=>t=>{var i;if(a?.variants==null)return Xe(s,t?.class,t?.className);const{variants:n,defaultVariants:l}=a,c=Object.keys(n).map(u=>{const m=t?.[u],d=l?.[u];if(m===null)return null;const v=Ue(m)||Ue(d);return n[u][v]}),x=t&&Object.entries(t).reduce((u,m)=>{let[d,v]=m;return v===void 0||(u[d]=v),u},{}),g=a==null||(i=a.compoundVariants)===null||i===void 0?void 0:i.reduce((u,m)=>{let{class:d,className:v,...r}=m;return Object.entries(r).every(j=>{let[o,h]=j;return Array.isArray(h)?h.includes({...l,...x}[o]):{...l,...x}[o]===h})?[...u,d,v]:u},[]);return Xe(s,c,g,t?.class,t?.className)},lr=Ve("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function $({className:s,variant:a,asChild:t=!1,...i}){const n=t?ps:"span";return e.jsx(n,{"data-slot":"badge",className:w(lr({variant:a}),s),...i})}function S({className:s,...a}){return e.jsx("div",{"data-slot":"card",className:w("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...a})}function A({className:s,...a}){return e.jsx("div",{"data-slot":"card-header",className:w("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function P({className:s,...a}){return e.jsx("h4",{"data-slot":"card-title",className:w("leading-none",s),...a})}function I({className:s,...a}){return e.jsx("p",{"data-slot":"card-description",className:w("text-muted-foreground",s),...a})}function F({className:s,...a}){return e.jsx("div",{"data-slot":"card-content",className:w("px-6 [&:last-child]:pb-6",s),...a})}function cr({selectedDay:s,selectedDevice:a}){const t=[{name:"Dispositivo 1 - Edificio Principal",value:2400,color:"#fbbf24"},{name:"Dispositivo 2 - Manufactura",value:4567,color:"#f59e0b"},{name:"Dispositivo 3 - Bloque de Oficinas",value:1890,color:"#d97706"},{name:"Sistemas HVAC",value:3210,color:"#b45309"},{name:"Iluminación",value:1250,color:"#92400e"},{name:"Equipamiento",value:2100,color:"#78350f"}],i=t.reduce((l,c)=>l+c.value,0);if(i===0)return null;const n=({active:l,payload:c})=>{if(l&&c&&c.length){const x=c[0],g=(x.value/i*100).toFixed(1);return e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"font-medium",children:x.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.value.toLocaleString()," kWh (",g,"%)"]})]})}return null};return e.jsxs(S,{className:"border-border/30 shadow-sm bg-card/80 backdrop-blur-sm",children:[e.jsxs(A,{className:"pb-4",children:[e.jsx(P,{className:"text-lg font-semibold text-card-foreground",children:"Resumen de Consumo de Energía"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distribución del consumo de energía en todos los dispositivos activos para ",s]})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-1 py-2",children:[e.jsx("div",{className:"text-4xl font-bold text-foreground",children:i.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Consumo total kWh"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{style:{width:"100%",maxWidth:"400px",height:"300px"},children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(ja,{children:[e.jsx(ba,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:t.map((l,c)=>e.jsx(Na,{fill:l.color},`cell-${c}`))}),e.jsx(le,{content:e.jsx(n,{})})]})})})}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center px-2",children:t.map((l,c)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:l.color}}),e.jsx("span",{className:"text-foreground",children:l.name})]},c))}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Estado de Dispositivos"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.slice(0,3).map((l,c)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:l.color}}),e.jsx("span",{className:"text-sm",children:l.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[l.value.toLocaleString()," kWh"]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0",title:"Activo"})]})]},c))})]})]})})]})}function dr({dataMode:s,selectedDay:a}){const t=[{time:"00:00",maxDemand:1200,actualDemand:890},{time:"02:00",maxDemand:1200,actualDemand:750},{time:"04:00",maxDemand:1200,actualDemand:650},{time:"06:00",maxDemand:1200,actualDemand:980},{time:"08:00",maxDemand:1200,actualDemand:1150},{time:"10:00",maxDemand:1200,actualDemand:1080},{time:"12:00",maxDemand:1200,actualDemand:1190},{time:"14:00",maxDemand:1200,actualDemand:1240},{time:"16:00",maxDemand:1200,actualDemand:1180},{time:"18:00",maxDemand:1200,actualDemand:1350},{time:"20:00",maxDemand:1200,actualDemand:1220},{time:"22:00",maxDemand:1200,actualDemand:1010}];if(!t||t.length===0)return null;const i=({active:x,payload:g,label:u})=>x&&g&&g.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"font-medium",children:`Hora: ${u}`}),g.map((m,d)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-1 rounded",style:{backgroundColor:m.color}}),e.jsxs("span",{className:"text-sm",children:[m.dataKey==="maxDemand"?"Demanda Máxima":"Demanda Real",": ",m.value," kW"]})]},d))]}):null,n=Math.round(t.reduce((x,g)=>x+g.actualDemand,0)/t.length),l=Math.max(...t.map(x=>x.actualDemand)),c=Math.round(n/1200*100);return e.jsxs(S,{className:"border-border/30 shadow-sm bg-card/80 backdrop-blur-sm",children:[e.jsxs(A,{className:"pb-4",children:[e.jsx(P,{className:"text-lg font-semibold text-card-foreground",children:"Demanda Máxima vs Real"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Comparación de la demanda pico contra el uso real a lo largo del tiempo (",s,")"]})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-xl font-bold text-foreground",children:[n," kW"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Demanda Promedio"})]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-xl font-bold text-foreground",children:[l," kW"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Demanda Pico"})]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-xl font-bold text-foreground",children:[c,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Eficiencia"})]})]}),e.jsx("div",{className:"h-80 min-h-[320px] w-full",style:{minHeight:"320px",height:"320px"},children:e.jsx(oe,{width:"100%",height:320,children:e.jsxs(os,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(he,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),e.jsx(pe,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:12}),e.jsx(ge,{stroke:"hsl(var(--muted-foreground))",fontSize:12,domain:[0,1400]}),e.jsx(le,{content:e.jsx(i,{})}),e.jsx(fe,{}),e.jsx(ae,{type:"monotone",dataKey:"maxDemand",stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",name:"Demanda Máxima",dot:!1}),e.jsx(ae,{type:"monotone",dataKey:"actualDemand",stroke:"#fbbf24",strokeWidth:3,name:"Demanda Real",dot:{fill:"#fbbf24",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#fbbf24",strokeWidth:2}})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Análisis de Demanda"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:"Hora Pico"}),e.jsx("span",{className:"text-sm font-medium",children:"18:00 (1,350 kW)"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:"Hora de Baja Demanda"}),e.jsx("span",{className:"text-sm font-medium",children:"04:00 (650 kW)"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:"Varianza de Demanda"}),e.jsx("span",{className:"text-sm font-medium",children:"700 kW (58.3%)"})]})]})]})]})})]})}function mr({dataMode:s,selectedDevice:a}){const t=[{id:"kva",name:"KVA",fullName:"Potencia Aparente",value:"1,245.6",unit:"kVA",change:"+5.2%",trend:"up",status:"normal"},{id:"kwh",name:"KWH",fullName:"Consumo de Energía",value:"8,932.4",unit:"kWh",change:"+12.8%",trend:"up",status:"alto"},{id:"kvar",name:"KVAR",fullName:"Potencia Reactiva",value:"342.1",unit:"kVAR",change:"-2.1%",trend:"down",status:"normal"},{id:"pf",name:"FP",fullName:"Factor de Potencia",value:"0.92",unit:"",change:"0.0%",trend:"stable",status:"óptimo"}],i=c=>{switch(c){case"up":return e.jsx(V,{className:"size-4"});case"down":return e.jsx(xs,{className:"size-4"});default:return e.jsx(Et,{className:"size-4"})}},n=c=>{switch(c){case"alto":return"destructive";case"óptimo":return"default";default:return"secondary"}},l=c=>{switch(c){case"up":return"text-primary";case"down":return"text-red-400";default:return"text-sidebar-foreground/70"}};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(c=>e.jsxs(S,{className:"border-sidebar-border/30 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-sidebar via-sidebar to-sidebar-accent backdrop-blur-sm hover:scale-[1.02] transform",children:[e.jsxs(A,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(P,{className:"text-sm font-medium text-sidebar-foreground",children:c.name}),e.jsx($,{variant:n(c.status),className:"text-xs bg-gradient-to-r from-sidebar-primary to-sidebar-primary/80 text-sidebar-primary-foreground shadow-sm",children:c.status})]}),e.jsx(F,{className:"pb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("div",{className:"text-2xl font-bold text-sidebar-foreground",children:c.value}),c.unit&&e.jsx("div",{className:"text-sm text-sidebar-foreground/70",children:c.unit})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-sidebar-foreground/70",children:c.fullName}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${l(c.trend)}`,children:[i(c.trend),c.change]})]})]})})]},c.id))})}function O({...s}){return e.jsx(Ts,{"data-slot":"select",...s})}function K({...s}){return e.jsx(Vs,{"data-slot":"select-value",...s})}function B({className:s,size:a="default",children:t,...i}){return e.jsxs(Is,{"data-slot":"select-trigger","data-size":a,className:w("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[t,e.jsx(Hs,{asChild:!0,children:e.jsx(We,{className:"size-4 opacity-50"})})]})}function q({className:s,children:a,position:t="popper",...i}){return e.jsx(Ls,{children:e.jsxs(Os,{"data-slot":"select-content",className:w("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...i,children:[e.jsx(xr,{}),e.jsx(Ks,{className:w("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),e.jsx(ur,{})]})})}function z({className:s,children:a,...t}){return e.jsxs(Bs,{"data-slot":"select-item",className:w("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(qs,{children:e.jsx($e,{className:"size-4"})})}),e.jsx(Gs,{children:a})]})}function xr({className:s,...a}){return e.jsx(Us,{"data-slot":"select-scroll-up-button",className:w("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Ga,{className:"size-4"})})}function ur({className:s,...a}){return e.jsx(Xs,{"data-slot":"select-scroll-down-button",className:w("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(We,{className:"size-4"})})}const hr=Ve("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),D=p.forwardRef(({className:s,variant:a,size:t,asChild:i=!1,...n},l)=>{const c=i?ps:"button";return e.jsx(c,{"data-slot":"button",className:w(hr({variant:a,size:t,className:s})),ref:l,...n})});D.displayName="Button";var ke="Checkbox",[pr]=is(ke),[gr,Le]=pr(ke);function fr(s){const{__scopeCheckbox:a,checked:t,children:i,defaultChecked:n,disabled:l,form:c,name:x,onCheckedChange:g,required:u,value:m="on",internal_do_not_use_render:d}=s,[v,r]=ts({prop:t,defaultProp:n??!1,onChange:g,caller:ke}),[j,o]=p.useState(null),[h,f]=p.useState(null),k=p.useRef(!1),E=j?!!c||!!j.closest("form"):!0,b={checked:v,disabled:l,setChecked:r,control:j,setControl:o,name:x,form:c,value:m,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:J(n)?!1:n,isFormControl:E,bubbleInput:h,setBubbleInput:f};return e.jsx(gr,{scope:a,...b,children:vr(d)?d(b):i})}var gs="CheckboxTrigger",fs=p.forwardRef(({__scopeCheckbox:s,onKeyDown:a,onClick:t,...i},n)=>{const{control:l,value:c,disabled:x,checked:g,required:u,setControl:m,setChecked:d,hasConsumerStoppedPropagationRef:v,isFormControl:r,bubbleInput:j}=Le(gs,s),o=we(n,m),h=p.useRef(g);return p.useEffect(()=>{const f=l?.form;if(f){const k=()=>d(h.current);return f.addEventListener("reset",k),()=>f.removeEventListener("reset",k)}},[l,d]),e.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":J(g)?"mixed":g,"aria-required":u,"data-state":ws(g),"data-disabled":x?"":void 0,disabled:x,value:c,...i,ref:o,onKeyDown:Fe(a,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:Fe(t,f=>{d(k=>J(k)?!0:!k),j&&r&&(v.current=f.isPropagationStopped(),v.current||f.stopPropagation())})})});fs.displayName=gs;var vs=p.forwardRef((s,a)=>{const{__scopeCheckbox:t,name:i,checked:n,defaultChecked:l,required:c,disabled:x,value:g,onCheckedChange:u,form:m,...d}=s;return e.jsx(fr,{__scopeCheckbox:t,checked:n,defaultChecked:l,disabled:x,required:c,onCheckedChange:u,name:i,form:m,value:g,internal_do_not_use_render:({isFormControl:v})=>e.jsxs(e.Fragment,{children:[e.jsx(fs,{...d,ref:a,__scopeCheckbox:t}),v&&e.jsx(ys,{__scopeCheckbox:t})]})})});vs.displayName=ke;var js="CheckboxIndicator",bs=p.forwardRef((s,a)=>{const{__scopeCheckbox:t,forceMount:i,...n}=s,l=Le(js,t);return e.jsx(Zs,{present:i||J(l.checked)||l.checked===!0,children:e.jsx(xe.span,{"data-state":ws(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:a,style:{pointerEvents:"none",...s.style}})})});bs.displayName=js;var Ns="CheckboxBubbleInput",ys=p.forwardRef(({__scopeCheckbox:s,...a},t)=>{const{control:i,hasConsumerStoppedPropagationRef:n,checked:l,defaultChecked:c,required:x,disabled:g,name:u,value:m,form:d,bubbleInput:v,setBubbleInput:r}=Le(Ns,s),j=we(t,r),o=rs(l),h=ns(i);p.useEffect(()=>{const k=v;if(!k)return;const E=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(E,"checked").set,C=!n.current;if(o!==l&&N){const M=new Event("click",{bubbles:C});k.indeterminate=J(l),N.call(k,J(l)?!1:l),k.dispatchEvent(M)}},[v,o,l,n]);const f=p.useRef(J(l)?!1:l);return e.jsx(xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??f.current,required:x,disabled:g,name:u,value:m,form:d,...a,tabIndex:-1,ref:j,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ys.displayName=Ns;function vr(s){return typeof s=="function"}function J(s){return s==="indeterminate"}function ws(s){return J(s)?"indeterminate":s?"checked":"unchecked"}function jr({className:s,...a}){return e.jsx(vs,{"data-slot":"checkbox",className:w("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(bs,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx($e,{className:"size-3.5"})})})}function br({selectedFilterType:s,selectedDevice:a,selectedDevices:t,dataMode:i,selectedDay:n,onFilterTypeChange:l,onDeviceChange:c,onDevicesChange:x,onDataModeChange:g,onDayChange:u,onApplyFilters:m}){const[d,v]=p.useState(!1),r=[{id:"device-1",name:"Edificio Principal - Piso 1",location:"Edificio A",status:"active"},{id:"device-2",name:"Edificio Principal - Piso 2",location:"Edificio A",status:"active"},{id:"device-3",name:"Unidad de Manufactura 1",location:"Edificio B",status:"active"},{id:"device-4",name:"Unidad de Manufactura 2",location:"Edificio B",status:"warning"},{id:"device-5",name:"Bloque de Oficinas A",location:"Edificio C",status:"active"},{id:"device-6",name:"Bloque de Oficinas B",location:"Edificio C",status:"active"},{id:"device-7",name:"Línea de Producción A",location:"Edificio B",status:"active"},{id:"device-8",name:"Línea de Producción B",location:"Edificio B",status:"active"},{id:"device-9",name:"Unidad de Ensamblaje 1",location:"Edificio D",status:"active"},{id:"device-10",name:"Unidad de Ensamblaje 2",location:"Edificio D",status:"inactive"}],j={"group-production":{name:"Grupo de Producción",devices:["device-3","device-4","device-7","device-8","device-9","device-10"]},"group-administration":{name:"Grupo Administrativo",devices:["device-1","device-2","device-5","device-6"]}},o=[{id:"real-time",name:"Tiempo Real"},{id:"historical",name:"Histórico"},{id:"combined",name:"Combinado"}],h=[{id:"today",name:"Hoy"},{id:"yesterday",name:"Ayer"},{id:"last-7-days",name:"Últimos 7 Días"},{id:"last-30-days",name:"Últimos 30 Días"}],f=b=>{const N=t.includes(b)?t.filter(C=>C!==b):[...t,b];x(N)},k=b=>{const N=j[b];return N?r.filter(C=>N.devices.includes(C.id)):[]},E=b=>{switch(b){case"active":return"bg-green-500";case"warning":return"bg-yellow-500";case"inactive":return"bg-gray-400";default:return"bg-gray-400"}};return e.jsx(S,{className:"border-border/30 shadow-sm mb-6 bg-card/80 backdrop-blur-sm",children:e.jsx(F,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tipo de Filtro"}),e.jsxs(O,{value:s,onValueChange:b=>l(b),children:[e.jsx(B,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(K,{placeholder:"Seleccionar tipo de filtro"})}),e.jsxs(q,{children:[e.jsx(z,{value:"device",children:"Dispositivo Individual"}),e.jsx(z,{value:"virtual-group",children:"Grupo Virtual"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:s==="device"?"Seleccionar Dispositivo":"Seleccionar Grupo Virtual y Dispositivos"}),s==="device"?e.jsxs(O,{value:a,onValueChange:c,children:[e.jsx(B,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(K,{placeholder:"Elegir un dispositivo"})}),e.jsx(q,{children:r.map(b=>e.jsx(z,{value:b.id,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E(b.status)}`}),e.jsx("span",{className:"flex-1",children:b.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:b.location})]})},b.id))})]}):e.jsxs(O,{value:a,onValueChange:c,open:d,onOpenChange:v,children:[e.jsx(B,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(K,{placeholder:"Elegir grupo virtual",children:a&&j[a]&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:j[a].name}),t.length>0&&e.jsxs($,{variant:"secondary",className:"ml-2 text-xs",children:[t.length," dispositivos seleccionados"]})]})})}),e.jsx(q,{className:"w-[400px]",children:Object.entries(j).map(([b,N])=>e.jsxs("div",{children:[e.jsx(z,{value:b,onSelect:()=>{c(b),v(!0)},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:N.name}),e.jsxs($,{variant:"outline",className:"text-xs",children:[N.devices.length," dispositivos"]})]})}),a===b&&e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-primary/20 space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Seleccionar dispositivos:"}),k(b).map(C=>e.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-muted/50 rounded cursor-pointer",onClick:M=>{M.preventDefault(),M.stopPropagation(),f(C.id)},children:[e.jsx(jr,{checked:t.includes(C.id),onCheckedChange:()=>f(C.id),disabled:C.status==="inactive"}),e.jsx("div",{className:`w-2 h-2 rounded-full ${E(C.status)}`}),e.jsx("span",{className:"text-sm flex-1",children:C.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:C.location})]},C.id))]})]},b))})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Modo de Datos"}),e.jsxs(O,{value:i,onValueChange:g,children:[e.jsx(B,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(K,{placeholder:"Seleccionar modo"})}),e.jsx(q,{children:o.map(b=>e.jsx(z,{value:b.id,children:b.name},b.id))})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Período de Tiempo"}),e.jsxs(O,{value:n,onValueChange:u,children:[e.jsx(B,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(K,{placeholder:"Seleccionar período"})}),e.jsx(q,{children:h.map(b=>e.jsx(z,{value:b.id,children:b.name},b.id))})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(D,{onClick:m,className:"h-11 px-6 bg-primary hover:bg-primary/90 shadow-sm",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Aplicar Filtro"]})})]})})})}function Nr(){const[s,a]=p.useState("device"),[t,i]=p.useState("device-1"),[n,l]=p.useState([]),[c,x]=p.useState("real-time"),[g,u]=p.useState("today"),m=()=>{console.log("Applying filters:",{filterType:s,device:t,devices:n,dataMode:c,selectedDay:g})},d=v=>{a(v),v==="device"?(i("device-1"),l([])):(i("group-production"),l([]))};return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#ffffff"},children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex flex-col space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"¡Hola, Liam Gallagher! 👋"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"¿Qué estás buscando hoy?"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs($,{className:"bg-primary/10 text-primary border-primary/20 px-3 py-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"}),"Monitoreo en tiempo real activo"]})})]})}),e.jsx(br,{selectedFilterType:s,selectedDevice:t,selectedDevices:n,dataMode:c,selectedDay:g,onFilterTypeChange:d,onDeviceChange:i,onDevicesChange:l,onDataModeChange:x,onDayChange:u,onApplyFilters:m}),e.jsx(mr,{dataMode:c,selectedDevice:s==="device"?t:n.join(",")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(cr,{selectedDay:g,selectedDevice:s==="device"?t:n.join(",")}),e.jsx(dr,{dataMode:c,selectedDay:g})]})]})})}function yr({className:s,...a}){return e.jsx(Ys,{"data-slot":"tabs",className:w("flex flex-col gap-2",s),...a})}function wr({className:s,...a}){return e.jsx(Qs,{"data-slot":"tabs-list",className:w("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",s),...a})}function Ae({className:s,...a}){return e.jsx(Js,{"data-slot":"tabs-trigger",className:w("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function kr({data:s,graphType:a,deviceName:t}){if(!s||s.length===0)return e.jsx(S,{children:e.jsxs(A,{children:[e.jsx(P,{children:"No Hay Datos Disponibles"}),e.jsx(I,{children:"No hay datos de análisis disponibles para este dispositivo"})]})});const i=()=>e.jsx("div",{className:"w-full min-h-[400px]",style:{minHeight:"400px"},children:e.jsx(oe,{width:"100%",height:400,minHeight:400,children:e.jsxs(ya,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"consumptionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#fbbf24",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#fbbf24",stopOpacity:0})]})}),e.jsx(he,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(pe,{dataKey:"timestamp",className:"text-xs",tick:{fontSize:12}}),e.jsx(ge,{className:"text-xs",tick:{fontSize:12}}),e.jsx(le,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"},labelFormatter:m=>`Hora: ${m}`,formatter:(m,d)=>[`${m.toFixed(2)} ${d==="kwh"?"kWh":d==="kw"?"kW":d==="billing"?"₹":d.toUpperCase()}`,d==="kwh"?"Consumo de Energía":d==="kw"?"Potencia Activa":d==="billing"?"Monto de Facturación":d.toUpperCase()]}),e.jsx(fe,{}),e.jsx(wa,{type:"monotone",dataKey:"kwh",stroke:"#fbbf24",strokeWidth:2,fill:"url(#consumptionGradient)",name:"Energía (kWh)"}),e.jsx(ae,{type:"monotone",dataKey:"kw",stroke:"#f59e0b",strokeWidth:2,name:"Potencia (kW)",dot:!1})]})})}),n=()=>e.jsx("div",{className:"w-full min-h-[400px]",style:{minHeight:"400px"},children:e.jsx(oe,{width:"100%",height:400,minHeight:400,children:e.jsxs(os,{data:s,children:[e.jsx(he,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(pe,{dataKey:"timestamp",className:"text-xs",tick:{fontSize:12}}),e.jsx(ge,{className:"text-xs",tick:{fontSize:12}}),e.jsx(le,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"},labelFormatter:m=>`Hora: ${m}`,formatter:(m,d)=>[`${m.toFixed(2)} ${d==="kvah"?"KVAH":d==="kva"?"KVA":d==="kw"?"KW":d==="pf"?"":d==="kvarh_lag"||d==="kvarh_lead"?"KVARh":""}`,d==="kvah"?"Energía Aparente":d==="kva"?"Potencia Aparente":d==="kw"?"Potencia Activa":d==="pf"?"Factor de Potencia":d==="kvarh_lag"?"Energía Reactiva (Retraso)":d==="kvarh_lead"?"Energía Reactiva (Adelanto)":d]}),e.jsx(fe,{}),e.jsx(ae,{type:"monotone",dataKey:"kvah",stroke:"hsl(var(--primary))",strokeWidth:2,name:"KVAH",dot:!1}),e.jsx(ae,{type:"monotone",dataKey:"kva",stroke:"hsl(var(--chart-2))",strokeWidth:2,name:"KVA",dot:!1}),e.jsx(ae,{type:"monotone",dataKey:"kw",stroke:"hsl(var(--chart-3))",strokeWidth:2,name:"KW",dot:!1}),e.jsx(ae,{type:"monotone",dataKey:"pf",stroke:"hsl(var(--chart-4))",strokeWidth:2,name:"Factor de Potencia",dot:!1})]})})}),l=()=>e.jsx("div",{className:"w-full min-h-[400px]",style:{minHeight:"400px"},children:e.jsx(oe,{width:"100%",height:400,minHeight:400,children:e.jsxs(ka,{data:s,children:[e.jsx(he,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(pe,{dataKey:"timestamp",className:"text-xs",tick:{fontSize:12}}),e.jsx(ge,{className:"text-xs",tick:{fontSize:12}}),e.jsx(le,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"},labelFormatter:m=>`Hora: ${m}`,formatter:(m,d)=>[`${m.toFixed(2)} KVARh`,d==="kvarh_lag"?"Energía Reactiva (Retraso)":"Energía Reactiva (Adelanto)"]}),e.jsx(fe,{}),e.jsx(Oe,{dataKey:"kvarh_lag",fill:"hsl(var(--chart-4))",name:"KVARh (Retraso)",radius:[2,2,0,0]}),e.jsx(Oe,{dataKey:"kvarh_lead",fill:"hsl(var(--chart-5))",name:"KVARh (Adelanto)",radius:[2,2,0,0]})]})})}),c=()=>{switch(a){case"consumption":return"Tendencias de Consumo de Energía";case"parameterized":return"Análisis de Potencia Parametrizado";case"harmonic":return"Análisis Armónico - Potencia Reactiva";default:return"Análisis de Energía"}},x=()=>{switch(a){case"consumption":return"Monitoreo en tiempo real de consumo de energía y potencia activa";case"parameterized":return"Parámetros de potencia integrales incluyendo KVAH, KVA, KW y Factor de Potencia";case"harmonic":return"Análisis de potencia reactiva mostrando componentes de retraso y adelanto";default:return"Análisis del sistema de energía"}},u=(()=>{switch(a){case"consumption":return V;case"parameterized":return ve;case"harmonic":return _e;default:return V}})();return e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5 text-primary"}),c()]}),e.jsxs(I,{children:[x()," para ",t]})]}),e.jsx(F,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(yr,{value:a,className:"w-full",children:e.jsxs(wr,{className:"grid w-full grid-cols-3",children:[e.jsxs(Ae,{value:"consumption",className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Consumo"]}),e.jsxs(Ae,{value:"parameterized",className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4"}),"Parámetros"]}),e.jsxs(Ae,{value:"harmonic",className:"flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4"}),"Armónico"]})]})}),e.jsxs("div",{className:"w-full",children:[a==="consumption"&&i(),a==="parameterized"&&n(),a==="harmonic"&&l()]})]})})]})}var Cr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=Cr.reduce((s,a)=>{const t=He(`Primitive.${a}`),i=p.forwardRef((n,l)=>{const{asChild:c,...x}=n,g=c?t:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(g,{...x,ref:l})});return i.displayName=`Primitive.${a}`,{...s,[a]:i}},{}),Dr="Separator",Ze="horizontal",Er=["horizontal","vertical"],ks=p.forwardRef((s,a)=>{const{decorative:t,orientation:i=Ze,...n}=s,l=Ar(i)?i:Ze,x=t?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(Sr.div,{"data-orientation":l,...x,...n,ref:a})});ks.displayName=Dr;function Ar(s){return Er.includes(s)}var Pr=ks;function Y({className:s,orientation:a="horizontal",decorative:t=!0,...i}){return e.jsx(Pr,{"data-slot":"separator-root",decorative:t,orientation:a,className:w("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}function Fr({data:s}){const a=[{id:"kvah",label:"KVAH",value:s.kvah,unit:"KVAH",description:"Energía Aparente",icon:qe,color:"text-primary"},{id:"billing",label:"Facturación",value:s.billing,unit:"₹",description:"Facturación Actual",icon:V,color:"text-chart-3"},{id:"kva",label:"KVA",value:s.kva,unit:"KVA",description:"Potencia Aparente",icon:R,color:"text-chart-2"},{id:"kw",label:"KW",value:s.kw,unit:"KW",description:"Potencia Activa",icon:Q,color:"text-primary"},{id:"kwh",label:"KWH",value:s.kwh,unit:"KWH",description:"Consumo de Energía",icon:V,color:"text-chart-1"},{id:"pf",label:"Factor de Potencia",value:s.pf,unit:"",description:"Factor de Potencia",icon:qe,color:"text-chart-4"},{id:"kvarh_lag",label:"KVARh (Retraso)",value:s.kvarh_lag,unit:"KVARh",description:"Energía Reactiva Retraso",icon:Q,color:"text-chart-4"},{id:"kvarh_lead",label:"KVARh (Adelanto)",value:s.kvarh_lead,unit:"KVARh",description:"Energía Reactiva Adelanto",icon:Q,color:"text-chart-5"}],i=(n=>n>=.95?{status:"Excelente",variant:"default",color:"bg-green-500"}:n>=.85?{status:"Bueno",variant:"secondary",color:"bg-yellow-500"}:{status:"Pobre",variant:"destructive",color:"bg-red-500"})(s.pf);return e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-primary"}),"Datos del Dispositivo en Tiempo Real"]}),e.jsxs(I,{children:["Lecturas de parámetros en vivo - Última actualización: ",s.timestamp]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"En Vivo"})]})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-accent/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Estado del Factor de Potencia"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicador de eficiencia del sistema"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.pf.toFixed(3)}),e.jsx($,{variant:i.variant,children:i.status})]})]})}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"PARÁMETROS DE ENERGÍA"}),a.map((n,l)=>{const c=n.icon;return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-accent/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-accent/50 ${n.color}`,children:e.jsx(c,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:n.label}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:n.id==="pf"?n.value.toFixed(3):n.value.toFixed(2)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.unit})]})]},n.id)})]}),e.jsx(Y,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-accent/30 rounded-lg",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Demanda Pico"}),e.jsxs("div",{className:"font-semibold",children:[Math.max(s.kw,s.kva).toFixed(1)," KW"]})]}),e.jsxs("div",{className:"p-3 bg-accent/30 rounded-lg",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Eficiencia"}),e.jsxs("div",{className:"font-semibold",children:[(s.kw/s.kva*100).toFixed(1),"%"]})]})]})]})]})}function Mr({className:s,...a}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:w("w-full caption-bottom text-sm",s),...a})})}function zr({className:s,...a}){return e.jsx("thead",{"data-slot":"table-header",className:w("[&_tr]:border-b",s),...a})}function Rr({className:s,...a}){return e.jsx("tbody",{"data-slot":"table-body",className:w("[&_tr:last-child]:border-0",s),...a})}function Ye({className:s,...a}){return e.jsx("tr",{"data-slot":"table-row",className:w("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...a})}function ee({className:s,...a}){return e.jsx("th",{"data-slot":"table-head",className:w("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function se({className:s,...a}){return e.jsx("td",{"data-slot":"table-cell",className:w("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function _r({...s}){return e.jsx(ea,{"data-slot":"dropdown-menu",...s})}function $r({...s}){return e.jsx(sa,{"data-slot":"dropdown-menu-trigger",...s})}function Wr({className:s,sideOffset:a=4,...t}){return e.jsx(aa,{children:e.jsx(ta,{"data-slot":"dropdown-menu-content",sideOffset:a,className:w("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...t})})}function Qe({className:s,inset:a,variant:t="default",...i}){return e.jsx(ra,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":t,className:w("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i})}function Tr({data:s,deviceName:a}){const[t,i]=p.useState(!1),n=p.useRef(null),l=()=>{const m=s.reduce((b,N)=>b+N.kwh,0),d=s.reduce((b,N)=>b+N.kw,0)/s.length,v=Math.max(...s.map(b=>b.kw)),r=s.reduce((b,N)=>b+N.billing,0),j=s.reduce((b,N)=>b+N.pf,0)/s.length,o=s.reduce((b,N)=>b+N.co2_emissions,0),h=m*.3,f=m*.25,k=m,E=s[s.length-1];return{todayKWH:h,yesterdayKWH:f,thisMonthKWH:k,lastReading:E,totalKWH:m,averageKW:d,maxKW:v,totalBilling:r,averagePF:j,totalCO2:o}},c=l(),x=[{period:"Hoy",kwh:c.todayKWH,billing:c.todayKWH*8.5,peakKW:c.maxKW*.8,avgPF:c.averagePF,co2:c.todayKWH*.82,status:"Activo",icon:Me},{period:"Ayer",kwh:c.yesterdayKWH,billing:c.yesterdayKWH*8.5,peakKW:c.maxKW*.75,avgPF:c.averagePF*.95,co2:c.yesterdayKWH*.82,status:"Completado",icon:V},{period:"Este Mes",kwh:c.thisMonthKWH,billing:c.totalBilling,peakKW:c.maxKW,avgPF:c.averagePF,co2:c.totalCO2,status:"En Progreso",icon:Me},{period:"Última Lectura",kwh:c.lastReading.kwh,billing:c.lastReading.billing,peakKW:c.lastReading.kw,avgPF:c.lastReading.pf,co2:c.lastReading.co2_emissions,status:"En Vivo",icon:R}],g=async m=>{i(!0);try{const d=l(),v=[{period:"Hoy",kwh:d.todayKWH,billing:d.todayKWH*8.5,peakKW:d.maxKW*.8,avgPF:d.averagePF,co2:d.todayKWH*.82,status:"Activo"},{period:"Ayer",kwh:d.yesterdayKWH,billing:d.yesterdayKWH*8.5,peakKW:d.maxKW*.75,avgPF:d.averagePF*.95,co2:d.yesterdayKWH*.82,status:"Completado"},{period:"Este Mes",kwh:d.thisMonthKWH,billing:d.totalBilling,peakKW:d.maxKW,avgPF:d.averagePF,co2:d.totalCO2,status:"En Progreso"},{period:"Última Lectura",kwh:d.lastReading.kwh,billing:d.lastReading.billing,peakKW:d.lastReading.kw,avgPF:d.lastReading.pf,co2:d.lastReading.co2_emissions,status:"En Vivo"}];if(m==="pdf"){const r=new jsPDF({orientation:"portrait",unit:"mm",format:"a4"}),j=r.internal.pageSize.getWidth();let o=15;const h=12,f=j-2*h;r.setFont("Helvetica","bold"),r.setFontSize(16),r.text("REPORTE RESUMIDO DE ENERGÍA",h,o),o+=10,r.setFont("Helvetica","normal"),r.setFontSize(10),r.text(`Dispositivo: ${a}`,h,o),o+=6,r.text(`Generado: ${new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,h,o),o+=10,r.setDrawColor(100,100,100),r.line(h,o,j-h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(11),r.text("HISTORIAL DE CONSUMO",h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(9),r.setFillColor(50,100,150),r.setTextColor(255,255,255);const k=h,E=h+35,b=h+65,N=h+95,C=h+125,M=h+150,W=h+170,T=o;r.rect(k,T-5,f,6,"F"),r.text("Período",k+1,T),r.text("kWh",E+1,T),r.text("₹ Fact.",b+1,T),r.text("Pico kW",N+1,T),r.text("FP Prom",C+1,T),r.text("CO₂ kg",M+1,T),r.text("Estado",W+1,T),o+=7,r.setTextColor(0,0,0),r.setFont("Helvetica","normal"),r.setFontSize(8),v.forEach((L,re)=>{re%2===0&&(r.setFillColor(240,245,250),r.rect(k,o-5,f,6,"F")),r.text(L.period,k+1,o),r.text(L.kwh.toFixed(1),E+1,o),r.text(L.billing.toFixed(2),b+1,o),r.text(L.peakKW.toFixed(1),N+1,o),r.text(L.avgPF.toFixed(3),C+1,o),r.text(L.co2.toFixed(1),M+1,o),r.text(L.status,W+1,o),o+=6}),o+=8,r.setDrawColor(100,100,100),r.line(h,o,j-h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(11),r.text("RESUMEN DE MÉTRICAS",h,o),o+=8,r.setFont("Helvetica","normal"),r.setFontSize(9),[["Consumo Total",`${d.totalKWH.toFixed(1)} kWh`],["Consumo Promedio",`${d.averageKW.toFixed(2)} kW`],["Demanda Máxima",`${d.maxKW.toFixed(2)} kW`],["Costo Total",`₹${d.totalBilling.toFixed(2)}`],["Factor de Potencia Promedio",`${d.averagePF.toFixed(3)}`],["Emisiones CO₂",`${d.totalCO2.toFixed(2)} kg`]].forEach((L,re)=>{re%2===0&&(r.setFillColor(240,245,250),r.rect(h,o-5,f,6,"F")),r.setFont("Helvetica","bold"),r.text(L[0],h+2,o),r.setFont("Helvetica","normal"),r.text(L[1],j-h-40,o),o+=6}),o=r.internal.pageSize.getHeight()-10,r.setFont("Helvetica","normal"),r.setFontSize(8),r.setTextColor(150,150,150),r.text("SparkCheck Energy Management System - Reporte generado automáticamente",j/2,o,{align:"center"}),r.save(`reporte-resumido-${a.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`)}else if(m==="excel"){const r=["Período","Energía (kWh)","Facturación (₹)","Demanda Pico (kW)","Factor Potencia Prom.","Emisiones CO₂ (kg)","Estado"];let j="data:text/csv;charset=utf-8,\uFEFF";j+=`REPORTE RESUMIDO DE ENERGÍA
`,j+=`Dispositivo:,${a}
`,j+=`Generado:,${new Date().toLocaleDateString("es-ES")}
`,j+=`
`,j+=r.join(",")+`
`,v.forEach(f=>{j+=[f.period,f.kwh.toFixed(2),f.billing.toFixed(2),f.peakKW.toFixed(2),f.avgPF.toFixed(3),f.co2.toFixed(2),f.status].join(",")+`
`}),j+=`
`,j+=`RESUMEN DE MÉTRICAS
`,j+=["Métrica","Valor"].join(",")+`
`,j+=["Consumo Total",`${d.totalKWH.toFixed(1)} kWh`].join(",")+`
`,j+=["Consumo Promedio",`${d.averageKW.toFixed(2)} kW`].join(",")+`
`,j+=["Demanda Máxima",`${d.maxKW.toFixed(2)} kW`].join(",")+`
`,j+=["Costo Total",`₹${d.totalBilling.toFixed(2)}`].join(",")+`
`,j+=["Factor de Potencia Promedio",d.averagePF.toFixed(3)].join(",")+`
`,j+=["Emisiones CO₂",`${d.totalCO2.toFixed(2)} kg`].join(",")+`
`;const o=encodeURI(j),h=document.createElement("a");h.setAttribute("href",o),h.setAttribute("download",`reporte-${a.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(h),h.click(),document.body.removeChild(h)}}catch(d){console.error(`Error exportando a ${m.toUpperCase()}:`,d)}finally{i(!1)}},u=m=>{switch(m){case"Activo":case"En Vivo":return"default";case"Completado":return"secondary";case"En Progreso":return"outline";default:return"secondary"}};return e.jsxs(S,{children:[e.jsx(A,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-primary"}),"Reporte Resumido"]}),e.jsxs(I,{children:["Métricas agregadas de energía para ",a]})]}),e.jsxs(_r,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"outline",disabled:t,className:"gap-2",children:[e.jsx(Te,{className:"w-4 h-4"}),t?"Exportando...":"Descargar Reporte"]})}),e.jsxs(Wr,{align:"end",children:[e.jsxs(Qe,{onClick:()=>g("excel"),className:"gap-2",children:[e.jsx(lt,{className:"w-4 h-4"}),"Exportar como Excel"]}),e.jsxs(Qe,{onClick:()=>g("pdf"),className:"gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Exportar como PDF"]})]})]})]})}),e.jsx(F,{children:e.jsxs("div",{ref:n,className:"space-y-6",children:[e.jsx("div",{className:"rounded-lg border",children:e.jsxs(Mr,{children:[e.jsx(zr,{children:e.jsxs(Ye,{children:[e.jsx(ee,{className:"w-[120px]",children:"Período"}),e.jsx(ee,{children:"Energía (kWh)"}),e.jsx(ee,{children:"Facturación (₹)"}),e.jsx(ee,{children:"Demanda Pico (kW)"}),e.jsx(ee,{children:"Factor de Potencia Promedio"}),e.jsx(ee,{children:"Emisiones CO₂ (kg)"}),e.jsx(ee,{children:"Estado"})]})}),e.jsx(Rr,{children:x.map((m,d)=>{const v=m.icon;return e.jsxs(Ye,{className:"hover:bg-muted/50",children:[e.jsx(se,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-muted-foreground"}),m.period]})}),e.jsxs(se,{children:[e.jsx("div",{className:"font-medium",children:m.kwh.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kWh"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"font-medium",children:["₹",m.billing.toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"INR"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"font-medium",children:m.peakKW.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kW"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"font-medium",children:m.avgPF.toFixed(3)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:m.avgPF>=.95?"Excelente":m.avgPF>=.85?"Bueno":"Pobre"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"font-medium",children:m.co2.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kg CO₂"})]}),e.jsx(se,{children:e.jsx($,{variant:u(m.status),children:m.status})})]},d)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Consumo Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:c.totalKWH.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"kWh"})]}),e.jsxs("div",{className:"p-4 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Z,{className:"w-4 h-4 text-chart-3"}),e.jsx("span",{className:"text-sm font-medium",children:"Facturación Total"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:["₹",c.totalBilling.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"INR"})]}),e.jsxs("div",{className:"p-4 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(R,{className:"w-4 h-4 text-chart-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Demanda Pico"})]}),e.jsx("div",{className:"text-2xl font-bold",children:c.maxKW.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"kW"})]})]})]})})]})}function Ir({data:s}){const a=s.reduce((g,u)=>g+u.co2_emissions,0),t=a/s.length,i=s.reduce((g,u)=>g+u.kwh,0),n=.82,l=a/22,x=(g=>g<30?{level:"Bajo",variant:"default",color:"text-green-600"}:g<50?{level:"Moderado",variant:"secondary",color:"text-yellow-600"}:{level:"Alto",variant:"destructive",color:"text-red-600"})(t);return e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-green-600"}),"Impacto Ambiental"]}),e.jsx(I,{children:"Emisiones de CO₂ y métricas ambientales basadas en el consumo de energía"})]}),e.jsxs(F,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"CO₂ Total"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:a.toFixed(1)}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"kg CO₂"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Prom/Hora"})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:t.toFixed(1)}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"kg CO₂/hr"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Árboles Necesarios"})]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200",children:l.toFixed(0)}),e.jsx("div",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:"árboles/año"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nivel de Impacto"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx($,{variant:x.variant,className:"text-lg px-3 py-1",children:x.level})}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:x.level==="Bajo"?"¡Excelente eficiencia!":x.level==="Moderado"?"Espacio para mejora":"Considerar optimización de energía"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-accent/30 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-green-600"}),"Perspectivas Ambientales"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Intensidad de Carbono:"})," ",n," kg CO₂ por kWh"]}),e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Energía Total:"})," ",i.toFixed(1)," kWh consumidos"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Potencial de Reducción:"})," Hasta 20% con optimización"]}),e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Objetivo:"})," <30 kg CO₂/hr para eficiencia óptima"]})]})]})]})]})]})}function Cs({...s}){return e.jsx(na,{"data-slot":"dialog",...s})}function Hr({...s}){return e.jsx(da,{"data-slot":"dialog-portal",...s})}function Vr({className:s,...a}){return e.jsx(ma,{"data-slot":"dialog-overlay",className:w("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function Ss({className:s,children:a,...t}){return e.jsxs(Hr,{"data-slot":"dialog-portal",children:[e.jsx(Vr,{}),e.jsxs(ia,{"data-slot":"dialog-content",className:w("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t,children:[a,e.jsxs(oa,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ie,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ds({className:s,...a}){return e.jsx("div",{"data-slot":"dialog-header",className:w("flex flex-col gap-2 text-center sm:text-left",s),...a})}function Es({className:s,...a}){return e.jsx("div",{"data-slot":"dialog-footer",className:w("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function As({className:s,...a}){return e.jsx(la,{"data-slot":"dialog-title",className:w("text-lg leading-none font-semibold",s),...a})}function Ps({className:s,...a}){return e.jsx(ca,{"data-slot":"dialog-description",className:w("text-muted-foreground text-sm",s),...a})}const Lr=Ve("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function de({className:s,variant:a,...t}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:w(Lr({variant:a}),s),...t})}function me({className:s,...a}){return e.jsx("div",{"data-slot":"alert-description",className:w("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}function Or(){const[s,a]=p.useState("device-001"),[t,i]=p.useState("all"),[n,l]=p.useState("consumption"),[c,x]=p.useState(!1),[g,u]=p.useState(null),[m,d]=p.useState({status:"idle",message:""}),v=[{id:"device-001",name:"Panel de Energía Principal A",location:"Edificio A - Piso 1"},{id:"device-002",name:"Unidad de Control HVAC",location:"Edificio A - Piso 2"},{id:"device-003",name:"Línea de Manufactura 1",location:"Piso de Producción"},{id:"device-004",name:"Circuito de Iluminación B",location:"Edificio B - Todos los Pisos"},{id:"device-005",name:"UPS Sala de Servidores",location:"Centro de Datos"}],r=[{id:"all",name:"Todos los Turnos"},{id:"morning",name:"Turno Matutino (6AM - 2PM)"},{id:"afternoon",name:"Turno Vespertino (2PM - 10PM)"},{id:"night",name:"Turno Nocturno (10PM - 6AM)"}],j=[{id:"consumption",name:"Consumo",icon:V},{id:"parameterized",name:"Vista Parametrizada",icon:ve},{id:"harmonic",name:"Análisis Armónico",icon:_e}],o=Array.from({length:24},(N,C)=>({deviceId:s,timestamp:`${String(C).padStart(2,"0")}:00`,kvah:45+Math.random()*20,billing:(45+Math.random()*20)*8.5,kva:42+Math.random()*18,kw:38+Math.random()*15,kwh:35+Math.random()*25,pf:.85+Math.random()*.1,kvarh_lag:12+Math.random()*8,kvarh_lead:8+Math.random()*5,co2_emissions:(35+Math.random()*25)*.82})),h=v.find(N=>N.id===s),f=N=>{const C=N.target.files?.[0];if(!C)return;if(!["application/pdf","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(C.type)&&!C.name.endsWith(".csv")&&!C.name.endsWith(".xlsx")&&!C.name.endsWith(".pdf")){d({status:"error",message:"Formato de archivo no válido. Por favor seleccione un archivo PDF, CSV o XLSX."});return}u(C),k(C)},k=N=>{d({status:"validating",message:"Validando archivo..."}),setTimeout(()=>{if(N.name.endsWith(".pdf"))d({status:"success",message:"Archivo PDF cargado correctamente. Los datos serán procesados por SparkCheck AI."});else{const C=Math.random()>.7,M=Math.random()>.1;d(M?C?{status:"success",message:"Archivo validado correctamente.",warnings:['Se detectaron 12 registros con datos nulos en la columna "consumo kwh"',"Se detectaron 5 registros con timestamp inválido","Los registros con datos nulos serán omitidos durante el procesamiento"]}:{status:"success",message:"Archivo validado correctamente. Todos los datos son válidos y están completos.",warnings:[]}:{status:"error",message:'El archivo no contiene las columnas requeridas: "timestamp" y "consumo kwh".'})}},1500)},E=()=>{console.log("Importando datos desde:",g?.name),x(!1),u(null),d({status:"idle",message:""})},b=()=>{x(!1),u(null),d({status:"idle",message:""})};return e.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-full",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Análisis"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Análisis detallado de energía específico por dispositivo"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{onClick:()=>x(!0),className:"gap-2 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700",children:[e.jsx(us,{className:"w-4 h-4"}),"Importar Datos"]}),e.jsxs(D,{variant:"outline",className:"gap-2",children:[e.jsx(Te,{className:"w-4 h-4"}),"Exportar Todos los Datos"]})]})]}),e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-primary"}),"Filtros de Análisis"]}),e.jsx(I,{children:"Configure sus parámetros de análisis y ajustes de visualización"})]}),e.jsxs(F,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Selección de Dispositivo"}),e.jsxs(O,{value:s,onValueChange:a,children:[e.jsx(B,{children:e.jsx(K,{placeholder:"Seleccionar dispositivo"})}),e.jsx(q,{children:v.map(N=>e.jsx(z,{value:N.id,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:N.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:N.location})]})},N.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Filtro de Turno"}),e.jsxs(O,{value:t,onValueChange:i,children:[e.jsx(B,{children:e.jsx(K,{placeholder:"Seleccionar turno"})}),e.jsx(q,{children:r.map(N=>e.jsx(z,{value:N.id,children:N.name},N.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tipo de Gráfica"}),e.jsxs(O,{value:n,onValueChange:l,children:[e.jsx(B,{children:e.jsx(K,{placeholder:"Seleccionar tipo de gráfica"})}),e.jsx(q,{children:j.map(N=>{const C=N.icon;return e.jsx(z,{value:N.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),N.name]})},N.id)})})]})]})]}),h&&e.jsx("div",{className:"mt-4 p-4 bg-accent/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:h.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h.location})]}),e.jsx($,{variant:"secondary",className:"ml-auto",children:"Activo"})]})})]})]}),e.jsx(Ir,{data:o}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsx("div",{className:"xl:col-span-2 space-y-6",children:e.jsx(kr,{data:o,graphType:n,deviceName:h?.name||"Dispositivo Desconocido"})}),e.jsx("div",{className:"space-y-6",children:e.jsx(Fr,{data:o[o.length-1]})})]}),e.jsx(Tr,{data:o,deviceName:h?.name||"Dispositivo Desconocido"}),e.jsx(Cs,{open:c,onOpenChange:x,children:e.jsxs(Ss,{className:"sm:max-w-[425px]",children:[e.jsxs(Ds,{children:[e.jsx(As,{children:"Importar Datos"}),e.jsx(Ps,{children:"Importe un archivo CSV, XLSX o PDF para analizar los datos de energía."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsxs("svg",{className:"w-10 h-10 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:[e.jsx("path",{d:"M10 0C4.477 0 0 4.477 0 10C0 15.523 4.477 20 10 20C15.523 20 20 15.523 20 10C20 4.477 15.523 0 10 0ZM10 18C4.477 18 0 13.523 0 8C0 2.477 4.477 -0.023 10 -0.023C15.523 -0.023 20 2.477 20 8C20 13.523 15.523 18 10 18Z",fill:"#E5E7EB"}),e.jsx("path",{d:"M10 12L8 10L12 10L10 8L10 12Z",fill:"#4B5563"})]}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Haga clic para subir"})," o arrastre y suelte"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"CSV, XLSX o PDF (MAX. 800KB)"})]}),e.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",onChange:f})]})}),g&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:g.name})]}),m.status==="validating"&&e.jsxs(de,{children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx(me,{children:m.message})]}),m.status==="error"&&e.jsxs(de,{variant:"destructive",children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx(me,{children:m.message})]}),m.status==="success"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-green-800 font-medium",children:m.message}),m.warnings&&m.warnings.length>0&&e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Advertencias:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:m.warnings.map((N,C)=>e.jsx("li",{className:"text-xs text-yellow-700",children:N},C))})]})]})]})})]}),e.jsxs(Es,{children:[e.jsx(D,{type:"button",onClick:b,className:"bg-gray-500 hover:bg-gray-600",children:"Cancelar"}),e.jsx(D,{type:"button",onClick:E,disabled:m.status!=="success",children:"Importar"})]})]})})]})}var Kr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Br=Kr.reduce((s,a)=>{const t=He(`Primitive.${a}`),i=p.forwardRef((n,l)=>{const{asChild:c,...x}=n,g=c?t:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(g,{...x,ref:l})});return i.displayName=`Primitive.${a}`,{...s,[a]:i}},{}),qr="Label",Fs=p.forwardRef((s,a)=>e.jsx(Br.label,{...s,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(s.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Fs.displayName=qr;var Gr=Fs;function H({className:s,...a}){return e.jsx(Gr,{"data-slot":"label",className:w("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}var Ce="Switch",[Ur]=is(Ce),[Xr,Zr]=Ur(Ce),Ms=p.forwardRef((s,a)=>{const{__scopeSwitch:t,name:i,checked:n,defaultChecked:l,required:c,disabled:x,value:g="on",onCheckedChange:u,form:m,...d}=s,[v,r]=p.useState(null),j=we(a,E=>r(E)),o=p.useRef(!1),h=v?m||!!v.closest("form"):!0,[f,k]=ts({prop:n,defaultProp:l??!1,onChange:u,caller:Ce});return e.jsxs(Xr,{scope:t,checked:f,disabled:x,children:[e.jsx(xe.button,{type:"button",role:"switch","aria-checked":f,"aria-required":c,"data-state":$s(f),"data-disabled":x?"":void 0,disabled:x,value:g,...d,ref:j,onClick:Fe(s.onClick,E=>{k(b=>!b),h&&(o.current=E.isPropagationStopped(),o.current||E.stopPropagation())})}),h&&e.jsx(_s,{control:v,bubbles:!o.current,name:i,value:g,checked:f,required:c,disabled:x,form:m,style:{transform:"translateX(-100%)"}})]})});Ms.displayName=Ce;var zs="SwitchThumb",Rs=p.forwardRef((s,a)=>{const{__scopeSwitch:t,...i}=s,n=Zr(zs,t);return e.jsx(xe.span,{"data-state":$s(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:a})});Rs.displayName=zs;var Yr="SwitchBubbleInput",_s=p.forwardRef(({__scopeSwitch:s,control:a,checked:t,bubbles:i=!0,...n},l)=>{const c=p.useRef(null),x=we(c,l),g=rs(t),u=ns(a);return p.useEffect(()=>{const m=c.current;if(!m)return;const d=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(d,"checked").set;if(g!==t&&r){const j=new Event("click",{bubbles:i});r.call(m,t),m.dispatchEvent(j)}},[g,t,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:x,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_s.displayName=Yr;function $s(s){return s?"checked":"unchecked"}var Qr=Ms,Jr=Rs;function Pe({className:s,...a}){return e.jsx(Qr,{"data-slot":"switch",className:w("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(Jr,{"data-slot":"switch-thumb",className:w("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function en({...s}){return e.jsx(xa,{"data-slot":"accordion",...s})}function Je({className:s,...a}){return e.jsx(ua,{"data-slot":"accordion-item",className:w("border-b last:border-b-0",s),...a})}function es({className:s,children:a,...t}){return e.jsx(ha,{className:"flex",children:e.jsxs(pa,{"data-slot":"accordion-trigger",className:w("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",s),...t,children:[a,e.jsx(We,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function ss({className:s,children:a,...t}){return e.jsx(ga,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:e.jsx("div",{className:w("pt-0 pb-4",s),children:a})})}function sn(){const[s,a]=p.useState("USD"),[t,i]=p.useState("es"),[n,l]=p.useState(!0),[c,x]=p.useState(!0),[g,u]=p.useState(!1),m={active:[{id:"dev-001",name:"Panel de Energía Principal A",location:"Edificio A - Piso 1",power:"2.4 kW"},{id:"dev-002",name:"Unidad de Control HVAC",location:"Edificio A - Piso 2",power:"4.5 kW"},{id:"dev-003",name:"Línea de Manufactura 1",location:"Piso de Producción",power:"8.2 kW"},{id:"dev-004",name:"Circuito de Iluminación B",location:"Edificio B - Todos los Pisos",power:"1.2 kW"},{id:"dev-005",name:"UPS Sala de Servidores",location:"Centro de Datos",power:"3.8 kW"},{id:"dev-006",name:"Sistema de Seguridad",location:"Perímetro",power:"0.8 kW"},{id:"dev-007",name:"Bomba de Agua Principal",location:"Planta Baja",power:"5.5 kW"},{id:"dev-008",name:"Elevadores Torre A",location:"Edificio A",power:"12.3 kW"},{id:"dev-009",name:"Compresores Industriales",location:"Zona Industrial",power:"15.7 kW"},{id:"dev-010",name:"Sistema de Ventilación",location:"Edificio B",power:"2.9 kW"},{id:"dev-011",name:"Equipo de Climatización",location:"Sala de Juntas",power:"1.6 kW"},{id:"dev-012",name:"Generador de Respaldo",location:"Área de Servicios",power:"25.0 kW"}],standby:[{id:"dev-013",name:"Panel Auxiliar C",location:"Edificio C - Piso 3",power:"0 kW"},{id:"dev-014",name:"Sistema HVAC Secundario",location:"Edificio B - Piso 4",power:"0 kW"},{id:"dev-015",name:"Iluminación de Emergencia",location:"Todos los Edificios",power:"0 kW"},{id:"dev-016",name:"Bomba Auxiliar",location:"Sótano",power:"0 kW"},{id:"dev-017",name:"Transformador Backup",location:"Subestación",power:"0 kW"},{id:"dev-018",name:"Equipo de Reserva HVAC",location:"Torre B",power:"0 kW"},{id:"dev-019",name:"Panel Solar (Nocturno)",location:"Azotea",power:"0 kW"},{id:"dev-020",name:"Sistema de Riego",location:"Jardines",power:"0 kW"}]},d=()=>{console.log("Configuración guardada")};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Configuración"}),e.jsx("p",{className:"text-muted-foreground",children:"Configuración del sistema y gestión de dispositivos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Configuración Regional"]}),e.jsx(I,{children:"Moneda, idioma y preferencias regionales"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"currency",className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-green-600"}),"Tipo de Moneda"]}),e.jsxs(O,{value:s,onValueChange:a,children:[e.jsx(B,{id:"currency",children:e.jsx(K,{})}),e.jsxs(q,{children:[e.jsx(z,{value:"USD",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"USD"}),e.jsx("span",{className:"text-muted-foreground",children:"- Dólar Estadounidense ($)"})]})}),e.jsx(z,{value:"EUR",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"EUR"}),e.jsx("span",{className:"text-muted-foreground",children:"- Euro (€)"})]})}),e.jsx(z,{value:"MXN",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"MXN"}),e.jsx("span",{className:"text-muted-foreground",children:"- Peso Mexicano ($)"})]})}),e.jsx(z,{value:"COP",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"COP"}),e.jsx("span",{className:"text-muted-foreground",children:"- Peso Colombiano ($)"})]})}),e.jsx(z,{value:"ARS",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"ARS"}),e.jsx("span",{className:"text-muted-foreground",children:"- Peso Argentino ($)"})]})}),e.jsx(z,{value:"BRL",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"BRL"}),e.jsx("span",{className:"text-muted-foreground",children:"- Real Brasileño (R$)"})]})}),e.jsx(z,{value:"GBP",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"GBP"}),e.jsx("span",{className:"text-muted-foreground",children:"- Libra Esterlina (£)"})]})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Esta moneda se utilizará para mostrar costos y reportes financieros"})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"language",className:"flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4 text-blue-600"}),"Idioma del Sistema"]}),e.jsxs(O,{value:t,onValueChange:i,children:[e.jsx(B,{id:"language",children:e.jsx(K,{})}),e.jsxs(q,{children:[e.jsx(z,{value:"es",children:"Español"}),e.jsx(z,{value:"en",children:"English"}),e.jsx(z,{value:"pt",children:"Português"}),e.jsx(z,{value:"fr",children:"Français"})]})]})]})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"w-5 h-5"}),"Preferencias del Sistema"]}),e.jsx(I,{children:"Configuración de notificaciones y visualización"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Wa,{className:"w-4 h-4 text-yellow-600"}),"Notificaciones"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recibir alertas de energía y sistema"})]}),e.jsx(Pe,{checked:n,onCheckedChange:l})]}),e.jsx(Y,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-4 h-4 text-green-600"}),"Actualización Automática"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Actualizar datos en tiempo real"})]}),e.jsx(Pe,{checked:c,onCheckedChange:x})]}),e.jsx(Y,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-purple-600"}),"Modo Oscuro"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Activar tema oscuro (próximamente)"})]}),e.jsx(Pe,{checked:g,onCheckedChange:u,disabled:!0})]})]})]}),e.jsxs(S,{className:"border-2 lg:col-span-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-yellow-500"}),"Gestión de Dispositivos"]}),e.jsx(I,{children:"Configuración y control de dispositivos conectados organizados por estado"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-700",children:m.active.length}),e.jsx("p",{className:"text-sm text-green-600",children:"Dispositivos Activos"})]})]})}),e.jsx("div",{className:"p-4 bg-gray-50 border-2 border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:m.standby.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"En Espera"})]})]})}),e.jsx("div",{className:"p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Ja,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:m.active.length+m.standby.length}),e.jsx("p",{className:"text-sm text-blue-600",children:"Total Registrados"})]})]})})]}),e.jsxs(en,{type:"multiple",className:"w-full",children:[e.jsxs(Je,{value:"active",className:"border-2 border-green-200 rounded-lg mb-4 px-4",children:[e.jsx(es,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-green-900",children:"Dispositivos Activos"}),e.jsxs("p",{className:"text-sm text-green-700",children:[m.active.length," dispositivos en funcionamiento"]})]})]})}),e.jsx(ss,{children:e.jsx("div",{className:"space-y-2 pt-2",children:m.active.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:v.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:v.power}),e.jsx($,{className:"bg-green-100 text-green-700",children:"Activo"})]})]},v.id))})})]}),e.jsxs(Je,{value:"standby",className:"border-2 border-gray-200 rounded-lg px-4",children:[e.jsx(es,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center",children:e.jsx(Ge,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Dispositivos en Espera"}),e.jsxs("p",{className:"text-sm text-gray-700",children:[m.standby.length," dispositivos en modo standby"]})]})]})}),e.jsx(ss,{children:e.jsx("div",{className:"space-y-2 pt-2",children:m.standby.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:v.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"bg-gray-100 text-gray-600 border-gray-300",children:v.power}),e.jsx($,{variant:"secondary",className:"bg-gray-200 text-gray-700",children:"Espera"})]})]},v.id))})})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(D,{onClick:d,size:"lg",className:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700",children:[e.jsx(zt,{className:"w-5 h-5 mr-2"}),"Guardar Configuración"]})})]})}function an(){const[s,a]=p.useState(!1),[t,i]=p.useState(!1),[n,l]=p.useState("monthly"),c=p.useRef(null),x={totalConsumption:24567.8,averageConsumption:1023.7,peakDemand:2847.3,totalCost:3247.89,activeDevices:12,alerts:3,period:"Enero 2026",generatedDate:new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),devices:[{name:"Sistema HVAC Principal",consumption:8234.5,status:"Activo"},{name:"Iluminación LED Torre A",consumption:3421.2,status:"Activo"},{name:"Servidores Data Center",consumption:5678.9,status:"Activo"},{name:"Equipos de Oficina",consumption:2345.6,status:"Activo"},{name:"Sistema de Seguridad",consumption:1234.5,status:"Activo"}],hourlyData:[{hour:"00:00",consumption:456.2},{hour:"06:00",consumption:678.5},{hour:"12:00",consumption:1234.8},{hour:"18:00",consumption:2145.3},{hour:"23:00",consumption:789.4}]},g={totalConsumption:294813.6,averageConsumption:24567.8,peakDemand:3456.7,totalCost:38976.54,activeDevices:12,alerts:28,period:"Año 2025",generatedDate:new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),devices:[{name:"Sistema HVAC Principal",consumption:98814,status:"Activo"},{name:"Iluminación LED Torre A",consumption:41054.4,status:"Activo"},{name:"Servidores Data Center",consumption:68146.8,status:"Activo"},{name:"Equipos de Oficina",consumption:28147.2,status:"Activo"},{name:"Sistema de Seguridad",consumption:14814,status:"Activo"}],hourlyData:[{hour:"Enero",consumption:24567.8},{hour:"Febrero",consumption:22145.3},{hour:"Marzo",consumption:25678.9},{hour:"Abril",consumption:23456.1},{hour:"Mayo",consumption:24789.5},{hour:"Junio",consumption:26543.2},{hour:"Julio",consumption:28234.7},{hour:"Agosto",consumption:27891.4},{hour:"Septiembre",consumption:25432.8},{hour:"Octubre",consumption:24123.6},{hour:"Noviembre",consumption:23567.2},{hour:"Diciembre",consumption:24383.1}]},u=n==="monthly"?x:g,m=v=>{l(v),a(!0)},d=async()=>{i(!0);try{const v=(await Sa(async()=>{const{jsPDF:_}=await import("./pdf-export-DazCCdzZ.js").then(G=>G.j);return{jsPDF:_}},[])).jsPDF,r=new v({orientation:"portrait",unit:"mm",format:"a4"}),j=r.internal.pageSize.getWidth();let o=15;const h=12,f=j-2*h,k=7;r.setFont("Helvetica","bold"),r.setFontSize(18),r.text("REPORTE DE CONSUMO ENERGÉTICO",h,o),o+=10,r.setFont("Helvetica","normal"),r.setFontSize(10),r.text(`Período: ${u.period}`,h,o),o+=6,r.text(`Generado: ${u.generatedDate}`,h,o),o+=6,r.text(`Tipo: Reporte ${n==="annual"?"Anual":"Mensual"}`,h,o),o+=10,r.setDrawColor(200,200,200),r.line(h,o,j-h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text("RESUMEN DE MÉTRICAS",h,o),o+=8,r.setFont("Helvetica","normal"),r.setFontSize(9),[["Consumo Total",`${u.totalConsumption.toLocaleString()} kWh`],["Consumo Promedio",`${u.averageConsumption.toLocaleString()} kWh/${n==="annual"?"mes":"día"}`],["Demanda Pico",`${u.peakDemand.toLocaleString()} kW`],["Costo Total",`$${u.totalCost.toLocaleString()}`],["Dispositivos Activos",`${u.activeDevices}`],["Alertas",`${u.alerts}`]].forEach((_,G)=>{G%2===0&&(r.setFillColor(245,245,245),r.rect(h,o-5,f,k+1,"F")),r.setFont("Helvetica","bold"),r.text(_[0],h+2,o),r.setFont("Helvetica","normal"),r.text(_[1],h+80,o),o+=7}),o+=6,r.setDrawColor(200,200,200),r.line(h,o,j-h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text("CONSUMO POR DISPOSITIVO",h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(9),r.setFillColor(50,50,100),r.setTextColor(255,255,255);const b=h,N=h+85,C=h+115,M=h+140,W=o;r.rect(b,W-5,f,6,"F"),r.text("Dispositivo",b+2,W),r.text("Consumo (kWh)",N,W),r.text("% Total",C,W),r.text("Estado",M,W),o+=7,r.setTextColor(0,0,0),r.setFont("Helvetica","normal"),u.devices.forEach((_,G)=>{const Se=(_.consumption/u.totalConsumption*100).toFixed(1);G%2===0&&(r.setFillColor(240,240,240),r.rect(b,o-5,f,6,"F"));const ne=_.name.length>35?_.name.substring(0,32)+"...":_.name;r.text(ne,b+1,o),r.text(_.consumption.toLocaleString(),N,o),r.text(`${Se}%`,C,o),r.text(_.status,M,o),o+=6,o>250&&(r.addPage(),o=15)}),o+=8,o>240&&(r.addPage(),o=15),r.setDrawColor(200,200,200),r.line(h,o,j-h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text(`PATRÓN DE CONSUMO ${n==="annual"?"MENSUAL":"HORARIO"}`,h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(9),r.setFillColor(50,50,100),r.setTextColor(255,255,255);const T=o;r.rect(h,T-5,f,6,"F"),r.text("Período",h+2,T),r.text("Consumo (kW)",h+70,T),o+=7,r.setTextColor(0,0,0),r.setFont("Helvetica","normal");const te=Math.max(...u.hourlyData.map(_=>_.consumption));u.hourlyData.forEach((_,G)=>{G%2===0&&(r.setFillColor(240,240,240),r.rect(h,o-5,f,6,"F"));const ne=(_.consumption/te*100).toFixed(0)*.8;r.text(_.hour,h+2,o),r.text(_.consumption.toLocaleString(),h+70,o),r.setDrawColor(200,200,200),r.rect(h+100,o-4,40,4),r.setFillColor(220,184,80),r.rect(h+100,o-4,ne/2.5,4,"F"),o+=6,o>250&&(r.addPage(),o=15)}),o+=8,o>240&&(r.addPage(),o=15),r.setDrawColor(200,200,200),r.line(h,o,j-h,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text("RECOMENDACIONES DE SPARKCHECK",h,o),o+=8,r.setFont("Helvetica","normal"),r.setFontSize(9),(n==="annual"?["Comparar tendencias anuales: pico en julio y agosto, oportunidad de optimización en diciembre","Implementar sistemas de control automatizado para mantener consumo en niveles bajos en meses de baja ocupación","Considerar energías renovables - potencial de ahorro anual del 20-25% con instalación de paneles solares","Revisar factores de potencia mensualmente para optimizar costo de facturación reactiva"]:["Considerar ajustar horarios de equipos HVAC para evitar picos de 14:00-18:00","Oportunidad de ahorro del 15% optimizando iluminación en horarios de baja ocupación","Evaluar eficiencia de servidores - consumo 12% sobre promedio esperado"]).forEach((_,G)=>{r.splitTextToSize(`${G+1}. ${_}`,f-4).forEach(ne=>{r.text(ne,h+2,o),o+=5,o>270&&(r.addPage(),o=15)}),o+=2}),o=r.internal.pageSize.getHeight()-10,r.setFontSize(8),r.setTextColor(150,150,150),r.text("SparkCheck Energy Management System | Reporte generado automáticamente",j/2,o,{align:"center"});const re=n==="monthly"?`reporte-mensual-${new Date().toISOString().split("T")[0]}.pdf`:`reporte-anual-${new Date().getFullYear()}.pdf`;r.save(re)}catch(v){console.error("Error generando PDF:",v)}finally{i(!1),a(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Reportes"}),e.jsx("p",{className:"text-muted-foreground",children:"Genera y exporta reportes detallados de consumo energético"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(R,{className:"w-5 h-5"}),"Consumo Total"]})}),e.jsxs(F,{children:[e.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:[x.totalConsumption.toLocaleString()," kWh"]}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:x.period})]})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-blue-900",children:[e.jsx(V,{className:"w-5 h-5"}),"Demanda Pico"]})}),e.jsxs(F,{children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[x.peakDemand.toLocaleString()," kW"]}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Máximo registrado"})]})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-green-50 to-green-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-green-900",children:[e.jsx(je,{className:"w-5 h-5"}),"Costo Total"]})}),e.jsxs(F,{children:[e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",x.totalCost.toLocaleString()]}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"USD este período"})]})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5"}),"Generar Reporte"]}),e.jsx(I,{children:"Crea reportes personalizados con todas las estadísticas"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border-2 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Me,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold",children:"Reporte Mensual"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Incluye análisis detallado de consumo, costos, patrones horarios y recomendaciones"}),e.jsxs(D,{onClick:()=>m("monthly"),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Previsualizar y Descargar"]})]}),e.jsxs("div",{className:"p-4 border-2 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(V,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold",children:"Reporte Anual"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Análisis comparativo anual con tendencias y proyecciones"}),e.jsxs(D,{onClick:()=>m("annual"),className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Previsualizar y Descargar"]})]})]}),e.jsx(Y,{}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Información del Reporte"}),e.jsx("p",{children:"El reporte incluirá todos los datos del período seleccionado, gráficas de consumo, análisis de dispositivos y recomendaciones de optimización."})]})]})})]})]}),e.jsx(Cs,{open:s,onOpenChange:a,children:e.jsxs(Ss,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ds,{children:[e.jsxs(As,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-6 h-6"}),"Previsualización del Reporte ",n==="annual"?"Anual":"Mensual"]}),e.jsx(Ps,{children:"Revisa los datos antes de descargar el PDF"})]}),e.jsxs("div",{ref:c,className:"space-y-6 py-4 bg-white p-8",children:[e.jsxs("div",{className:"text-center pb-4 border-b",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Reporte de Consumo Energético ",n==="annual"?"Anual":"Mensual"]}),e.jsx("p",{className:"text-muted-foreground text-lg font-semibold",children:u.period}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Generado: ",u.generatedDate]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(R,{className:"w-4 h-4 text-yellow-600"}),e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Consumo Total"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:u.totalConsumption.toLocaleString()}),e.jsx("p",{className:"text-xs text-yellow-700",children:"kWh"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Q,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Promedio"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:u.averageConsumption.toLocaleString()}),e.jsx("p",{className:"text-xs text-blue-700",children:n==="annual"?"kWh/mes":"kWh/día"})]}),e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Pico"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:u.peakDemand.toLocaleString()}),e.jsx("p",{className:"text-xs text-red-700",children:"kW"})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(je,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Costo Total"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",u.totalCost.toLocaleString()]}),e.jsx("p",{className:"text-xs text-green-700",children:"USD"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{className:"w-4 h-4 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Dispositivos"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:u.activeDevices}),e.jsx("p",{className:"text-xs text-purple-700",children:"Activos"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-orange-600"}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Alertas"})]}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:u.alerts}),e.jsx("p",{className:"text-xs text-orange-700",children:n==="annual"?"Este año":"Este período"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[e.jsx(R,{className:"w-5 h-5 text-yellow-600"}),"Consumo por Dispositivo"]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Dispositivo"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"Consumo (kWh)"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"% del Total"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Estado"})]})}),e.jsx("tbody",{className:"divide-y",children:u.devices.map((v,r)=>{const j=(v.consumption/u.totalConsumption*100).toFixed(1);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:v.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:v.consumption.toLocaleString()}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:[j,"%"]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx($,{variant:"secondary",className:"bg-green-100 text-green-700",children:v.status})})]},r)})})]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[e.jsx(Q,{className:"w-5 h-5 text-blue-600"}),"Patrón de Consumo ",n==="annual"?"Mensual":"Horario"]}),e.jsx("div",{className:"space-y-3",children:u.hourlyData.map((v,r)=>{const j=Math.max(...u.hourlyData.map(h=>h.consumption)),o=v.consumption/j*100;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium w-24 text-right",children:v.hour}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-8 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 h-full flex items-center justify-end pr-3 transition-all",style:{width:`${o}%`},children:e.jsxs("span",{className:"text-xs font-bold text-white",children:[v.consumption.toLocaleString()," kW"]})})})]},r)})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2 text-blue-900 text-lg",children:[e.jsx(U,{className:"w-5 h-5"}),"Recomendaciones de SparkCheck"]}),e.jsx("ul",{className:"space-y-2 text-sm text-blue-800",children:n==="annual"?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Comparar tendencias anuales: pico en julio y agosto, oportunidad de optimización en diciembre"}),e.jsx("li",{children:"• Implementar sistemas de control automatizado para mantener consumo en niveles bajos en meses de baja ocupación"}),e.jsx("li",{children:"• Considerar energías renovables - potencial de ahorro anual del 20-25% con instalación de paneles solares"}),e.jsx("li",{children:"• Revisar factores de potencia mensualmente para optimizar costo de facturación reactiva"})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Considerar ajustar horarios de equipos HVAC para evitar picos de 14:00-18:00"}),e.jsx("li",{children:"• Oportunidad de ahorro del 15% optimizando iluminación en horarios de baja ocupación"}),e.jsx("li",{children:"• Evaluar eficiencia de servidores - consumo 12% sobre promedio esperado"})]})})]}),e.jsxs("div",{className:"border-t pt-4 text-xs text-muted-foreground text-center",children:[e.jsx("p",{children:"Este reporte fue generado automáticamente por SparkCheck Energy Management System"}),e.jsx("p",{children:"Para soporte, contacte a su administrador de energía"})]})]}),e.jsxs(Es,{className:"gap-2",children:[e.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),e.jsx(D,{onClick:d,disabled:t,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:t?e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"w-4 h-4 mr-2 animate-bounce"}),"Generando PDF..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]})})]})]})})]})}function X({className:s,type:a,...t}){return e.jsx("input",{type:a,"data-slot":"input",className:w("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...t})}function tn(){const[s,a]=p.useState(!1),[t,i]=p.useState(!1),[n,l]=p.useState({name:"Liam Gallagher",email:"liam.gallagher@controlems.com",password:"••••••••",userType:"Administrador del Sistema",activeDevices:12,standbyDevices:8,totalDevices:20}),c=()=>{i(!1)},x=()=>{i(!1)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Ajustes y Perfil"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu información personal y preferencias del sistema"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5"}),"Perfil de Usuario"]}),e.jsx(I,{children:"Información principal de tu cuenta"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-semibold text-3xl",children:"LG"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:n.name}),e.jsxs($,{variant:"secondary",className:"mt-1",children:[e.jsx(ie,{className:"w-3 h-3 mr-1"}),n.userType]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-yellow-500"}),"Estado de Dispositivos"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Activos"})]}),e.jsx("span",{className:"font-semibold text-green-700",children:n.activeDevices})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"En Espera"})]}),e.jsx("span",{className:"font-semibold text-gray-700",children:n.standbyDevices})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Total"})]}),e.jsx("span",{className:"font-semibold text-blue-700",children:n.totalDevices})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-semibold text-blue-900",children:"SparkCheck"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Tu asistente de inteligencia artificial para análisis energético"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(S,{className:"border-2",children:[e.jsx(A,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5"}),"Información de la Cuenta"]}),e.jsx(I,{children:"Actualiza tus datos personales y de acceso"})]}),t?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{onClick:c,size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"Guardar"]}),e.jsxs(D,{onClick:x,variant:"outline",size:"sm",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):e.jsxs(D,{onClick:()=>i(!0),variant:"outline",size:"sm",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Editar"]})]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4"}),"Nombre Completo"]}),e.jsx(X,{id:"name",value:n.name,onChange:g=>l({...n,name:g.target.value}),disabled:!t,className:"disabled:opacity-60"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(ds,{className:"w-4 h-4"}),"Correo Electrónico"]}),e.jsx(X,{id:"email",type:"email",value:n.email,onChange:g=>l({...n,email:g.target.value}),disabled:!t,className:"disabled:opacity-60"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Contraseña"]}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{id:"password",type:s?"text":"password",value:n.password,onChange:g=>l({...n,password:g.target.value}),disabled:!t,className:"disabled:opacity-60 pr-10"}),e.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?e.jsx(tt,{className:"w-4 h-4"}):e.jsx(ze,{className:"w-4 h-4"})})]}),t&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Deja el campo vacío si no deseas cambiar la contraseña"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"userType",className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Tipo de Usuario"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{id:"userType",value:n.userType,disabled:!0,className:"flex-1"}),e.jsx($,{variant:"secondary",className:"px-3 py-1",children:"No Editable"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Solo un super administrador puede cambiar el tipo de usuario"})]}),t&&e.jsx("div",{className:"pt-4 border-t",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ie,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Importante"}),e.jsx("p",{children:"Los cambios en tu información personal serán efectivos inmediatamente después de guardar."})]})]})})})]})]})})]})]})}function rn({className:s,...a}){return e.jsx("textarea",{"data-slot":"textarea",className:w("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}function nn(){const[s,a]=p.useState([]),[t,i]=p.useState(!1),n=p.useRef(null),[l,c]=p.useState(""),[x,g]=p.useState([]),[u,m]=p.useState(!1),d=f=>{if(!f)return;const k=Array.from(f).map(E=>({name:E.name,size:E.size}));a(E=>[...E,...k])},v=f=>{f.preventDefault(),i(!0)},r=()=>{i(!1)},j=f=>{f.preventDefault(),i(!1),d(f.dataTransfer.files)},o=f=>{a(k=>k.filter((E,b)=>b!==f))},h=()=>{l.trim()&&(m(!0),setTimeout(()=>{const f=[`Basándome en el análisis de "${l}", he detectado:
        
• **Picos de consumo**: Se observan picos de voltaje entre 14:00-18:00 horas con variaciones de hasta ±15V.
• **Fugas identificadas**: Detectadas 3 fugas potenciales en el circuito principal, representando aproximadamente 8% de pérdida energética.
• **Recomendaciones**:
  1. Instalar reguladores de voltaje en las líneas principales
  2. Revisar conexiones en paneles secundarios
  3. Programar mantenimiento preventivo para las próximas 2 semanas
  
**Ahorro estimado**: Implementando estas mejoras, se estima una reducción del 12-15% en el consumo mensual.`,`Análisis completado para: "${l}"

**Fugas de Energía Detectadas:**
• Fuga tipo A - Circuito Iluminación: 245 kWh/mes (Severidad: Media)
• Fuga tipo B - Sistema HVAC: 567 kWh/mes (Severidad: Alta)

**Picos de Voltaje:**
• Horario 08:00-09:00: Variación de +18V (supera límite seguro)
• Horario 18:00-19:00: Variación de +22V (requiere atención inmediata)

**Soluciones Propuestas:**
1. Instalar estabilizadores en puntos críticos
2. Redistribuir cargas en horas pico
3. Actualizar cableado en zona de oficinas (sección B)`];g(k=>[...k,{prompt:l,response:f[Math.floor(Math.random()*f.length)]}]),c(""),m(!1)},2e3))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(be,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl mb-1 flex items-center gap-2",children:["SparkCheck",e.jsxs($,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[e.jsx(De,{className:"w-3 h-3 mr-1"}),"IA"]})]}),e.jsx("p",{className:"text-muted-foreground",children:"Asistente de Inteligencia Artificial para Análisis Energético"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-blue-600"}),"Consulta a SparkCheck IA"]}),e.jsx(I,{children:"Pregunte sobre análisis de fugas, picos de voltaje, optimización energética y más"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsx(rn,{placeholder:"Ejemplo: 'Analiza las fugas de energía en el sistema principal' o 'Identifica los picos de voltaje en las últimas 24 horas'...",value:l,onChange:f=>c(f.target.value),className:"min-h-[120px] resize-none"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:s.length>0&&`${s.length} archivo(s) adjunto(s)`}),e.jsx(D,{onClick:h,disabled:!l.trim()||u,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Analizando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Analizar"]})})]})]})]}),x.length>0&&e.jsxs(S,{className:"border-2",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-green-600"}),"Análisis Completados"]})}),e.jsx(F,{className:"space-y-4",children:x.map((f,k)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tu consulta:"}),e.jsx("p",{className:"text-sm text-gray-600 italic",children:f.prompt})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),"Respuesta de SparkCheck IA:"]}),e.jsx("div",{className:"text-sm text-blue-800 whitespace-pre-line",children:f.response})]}),k<x.length-1&&e.jsx("div",{className:"border-t my-4"})]},k))})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(V,{className:"w-5 h-5"}),"Consultas Sugeridas"]})}),e.jsxs(F,{className:"space-y-2",children:[e.jsxs(D,{variant:"outline",className:"w-full justify-start text-left h-auto py-3 px-4 bg-white hover:bg-yellow-50",onClick:()=>c("Analiza las fugas de energía en el sistema principal"),children:[e.jsx(Ne,{className:"w-4 h-4 mr-2 text-yellow-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Analiza las fugas de energía en el sistema principal"})]}),e.jsxs(D,{variant:"outline",className:"w-full justify-start text-left h-auto py-3 px-4 bg-white hover:bg-yellow-50",onClick:()=>c("Identifica picos de voltaje en las últimas 24 horas"),children:[e.jsx(R,{className:"w-4 h-4 mr-2 text-yellow-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Identifica picos de voltaje en las últimas 24 horas"})]}),e.jsxs(D,{variant:"outline",className:"w-full justify-start text-left h-auto py-3 px-4 bg-white hover:bg-yellow-50",onClick:()=>c("Proporciona recomendaciones para optimizar el consumo energético"),children:[e.jsx(U,{className:"w-4 h-4 mr-2 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Proporciona recomendaciones para optimizar el consumo"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"border-2",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-sm",children:[e.jsx(us,{className:"w-4 h-4"}),"Archivos Adjuntos"]})}),e.jsxs(F,{className:"space-y-3",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-all cursor-pointer ${t?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,onDragOver:v,onDragLeave:r,onDrop:j,onClick:()=>n.current?.click(),children:[e.jsx(Z,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xs font-medium mb-1",children:"Arrastra archivos aquí"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"o haz clic para seleccionar"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PDF (MAX. 10MB)"})]}),e.jsx("input",{ref:n,type:"file",accept:".pdf",multiple:!0,className:"hidden",onChange:f=>d(f.target.files)}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Archivos subidos:"}),s.map((f,k)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded",children:[e.jsx(Z,{className:"w-3 h-3 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs flex-1 truncate",children:f.name}),e.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>o(k),children:e.jsx(Ya,{className:"w-3 h-3"})})]},k))]})]})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-blue-900 text-sm",children:[e.jsx(R,{className:"w-4 h-4"}),"Capacidades de SparkCheck"]})}),e.jsxs(F,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Detección de Fugas"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Identifica pérdidas energéticas"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Análisis de Picos"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Monitorea variaciones de voltaje"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Optimización"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Recomendaciones personalizadas"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Análisis Predictivo"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Anticipa problemas futuros"})]})]})]})]}),e.jsxs(S,{className:"border-2 border-yellow-200 bg-yellow-50",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-yellow-900 text-sm",children:[e.jsx(ce,{className:"w-4 h-4"}),"Consejos de Uso"]})}),e.jsxs(F,{className:"space-y-1 text-xs text-yellow-800",children:[e.jsx("p",{children:"• Sé específico en tus consultas"}),e.jsx("p",{children:"• Adjunta reportes para análisis detallados"}),e.jsx("p",{children:"• Consulta por periodos específicos"}),e.jsx("p",{children:"• Solicita recomendaciones concretas"})]})]})]})]})]})}function as(){const s=[{name:"Cristian Xavier Montoya Patin",role:"Director General (CEO)",specialty:"Gestión Estratégica y Sistemas de Control"},{name:"Nayeli Gabriela Figueroa Ramirez",role:"Subdirectora General (COO)",specialty:"Coordinación de Operaciones y Análisis de Datos"},{name:"Santiago Sebastian Rodriguez Romero",role:"Director de Ingeniería de Hardware",specialty:"Infraestructura y Monitoreo en Tiempo Real"},{name:"Santiago Enrique Romero Quinteros",role:"Director de Tecnología (CTO)",specialty:"Arquitectura de Software e Inteligencia Artificial"}],a=[{icon:La,title:"Monitoreo en Tiempo Real",description:"Sistema avanzado de monitoreo que proporciona datos actualizados de consumo energético cada segundo."},{icon:be,title:"Inteligencia Artificial",description:"SparkCheck AI analiza patrones de consumo y proporciona recomendaciones personalizadas para optimización."},{icon:ie,title:"Gestión Proactiva",description:"Detección temprana de anomalías y alertas predictivas para prevenir fallas en el sistema."},{icon:_a,title:"Reportes Detallados",description:"Generación de reportes completos con análisis de tendencias, costos y oportunidades de ahorro."}];return e.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-full",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-2xl",children:e.jsx(R,{className:"w-12 h-12 text-white"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Sistema de Gestión de Emergencias"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Control EMS - Energy Management System"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(S,{className:"border-2 bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-blue-900",children:[e.jsx(It,{className:"w-6 h-6"}),"Nuestra Misión"]})}),e.jsx(F,{className:"text-blue-800",children:e.jsx("p",{children:"Proporcionar una solución integral de gestión energética que permita a las organizaciones monitorear, analizar y optimizar su consumo de energía eléctrica de manera eficiente, contribuyendo a la sostenibilidad ambiental y la reducción de costos operativos."})})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(be,{className:"w-6 h-6"}),"Nuestra Visión"]})}),e.jsx(F,{className:"text-yellow-800",children:e.jsx("p",{children:"Ser la plataforma líder en gestión energética inteligente, integrando tecnologías de vanguardia como inteligencia artificial y análisis predictivo para revolucionar la forma en que las empresas gestionan su energía y reducen su huella de carbono."})})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-6 h-6 text-yellow-500"}),"Acerca del Sistema EMS"]}),e.jsx(I,{children:"Sistema de Gestión de Energía de Última Generación"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Control EMS es un sistema avanzado de gestión energética diseñado para proporcionar visibilidad completa y control sobre el consumo de energía en instalaciones industriales, comerciales y residenciales. Utilizando tecnología de punta en monitoreo en tiempo real, análisis de datos e inteligencia artificial, nuestro sistema ayuda a identificar oportunidades de ahorro, prevenir fallas y optimizar el uso de energía."}),e.jsx(Y,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map((t,i)=>{const n=t.icon;return e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(n,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]},i)})})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(A,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-6 h-6 text-blue-600"}),"Nuestro Equipo de Ingenieros"]}),e.jsx(I,{children:"Equipo multidisciplinario comprometido con la excelencia en gestión energética"})]}),e.jsx(F,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((t,i)=>e.jsx("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-yellow-400 transition-all duration-300 hover:shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:t.name.split(" ").map(n=>n[0]).slice(0,2).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:t.name}),e.jsx($,{className:"bg-blue-100 text-blue-700 mb-2",children:t.role}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Especialidad: ",t.specialty]})]})]})},i))})})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(ds,{className:"w-6 h-6"}),"Información de Contacto"]})}),e.jsxs(F,{className:"text-yellow-800 space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Control EMS - Sistema de Gestión Energética"}),e.jsx("p",{className:"text-sm",children:"Versión 1.0.0 • Enero 2026"}),e.jsx("p",{className:"text-sm",children:"© 2026 Control EMS. Desarrollado por un equipo de ingenieros especializados."}),e.jsx("div",{className:"mt-4 pt-4 border-t border-yellow-200",children:e.jsx("p",{className:"text-xs text-yellow-700",children:"Este sistema ha sido desarrollado como parte de un proyecto de investigación y desarrollo en gestión energética inteligente, aplicando las mejores prácticas de la industria y tecnologías emergentes en el campo de la eficiencia energética."})})]})]})]})}function on({onLogout:s}){const[a,t]=p.useState("about"),i=()=>{switch(a){case"about":return e.jsx(as,{});case"dashboard":return e.jsx(Nr,{});case"analytics":return e.jsx(Or,{});case"configuration":return e.jsx(sn,{});case"reports":return e.jsx(an,{});case"sparkcheck":return e.jsx(nn,{});case"settings":return e.jsx(tn,{});default:return e.jsx(as,{})}};return e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(er,{currentPage:a,onPageChange:t,onLogout:s})}),e.jsx("main",{className:"flex-1 overflow-auto",children:i()})]})}function ln({onLoginSuccess:s}){const[a,t]=p.useState(""),[i,n]=p.useState(""),[l,c]=p.useState(""),[x,g]=p.useState(!1),u={username:"admin",password:"password123"},m=d=>{d.preventDefault(),c(""),a===u.username&&i===u.password?s():c("Usuario o contraseña incorrectos")};return x?e.jsx(cn,{onBack:()=>g(!1),onSuccess:s}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-yellow-400/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx(S,{className:"w-full max-w-md relative z-10 bg-white/95 backdrop-blur-sm shadow-2xl border-0",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 mb-4 shadow-lg",children:e.jsx(R,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl mb-2 text-gray-900",children:"Sistema EMS"}),e.jsx("p",{className:"text-gray-600",children:"Gestión de Emergencias"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l&&e.jsxs(de,{variant:"destructive",className:"bg-red-50 border-red-200",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx(me,{children:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"username",className:"text-gray-700",children:"Usuario"}),e.jsx(X,{id:"username",type:"text",value:a,onChange:d=>t(d.target.value),placeholder:"Ingrese su usuario",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"password",className:"text-gray-700",children:"Contraseña"}),e.jsx(X,{id:"password",type:"password",value:i,onChange:d=>n(d.target.value),placeholder:"Ingrese su contraseña",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsx(D,{type:"submit",className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white shadow-lg",children:"Iniciar Sesión"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-blue-600 hover:text-blue-800 text-sm transition-colors",children:"¿Olvidaste tu contraseña?"})})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Demo:"})," usuario: admin | contraseña: password123"]})})]})})]})}function cn({onBack:s,onSuccess:a}){const[t,i]=p.useState(null),[n,l]=p.useState("method"),[c,x]=p.useState(""),[g,u]=p.useState(""),[m,d]=p.useState(["","",""]),[v,r]=p.useState(""),[j,o]=p.useState(""),h="+52 1234567890",f="123456",k=[{question:"¿Cuál es el nombre de tu primera mascota?",answer:"max"},{question:"¿En qué ciudad naciste?",answer:"monterrey"},{question:"¿Cuál es tu color favorito?",answer:"azul"}],E=M=>{i(M),r(""),o(""),l(M==="quiz"?"verify":"method")},b=()=>{if(!c){r("Por favor ingrese su número de teléfono");return}if(c!==h){r("El número de teléfono no coincide con nuestros registros");return}o(`Código enviado vía ${t==="sms"?"SMS":"WhatsApp"} a ${c}`),l("verify"),r("")},N=()=>{g===f?(o("¡Contraseña recuperada exitosamente!"),setTimeout(()=>{a()},1500)):r("Código incorrecto. Intente nuevamente.")},C=()=>{k.every((W,T)=>m[T].toLowerCase().trim()===W.answer)?(o("¡Respuestas correctas! Contraseña recuperada exitosamente."),setTimeout(()=>{a()},1500)):r("Una o más respuestas son incorrectas. Intente nuevamente.")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-yellow-400/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx(S,{className:"w-full max-w-md relative z-10 bg-white/95 backdrop-blur-sm shadow-2xl border-0",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(D,{variant:"ghost",onClick:s,className:"mb-4 text-blue-600 hover:text-blue-800 hover:bg-blue-50",children:"← Volver al inicio"}),e.jsx("h2",{className:"text-2xl text-gray-900",children:"Recuperar Contraseña"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Seleccione un método de recuperación"})]}),v&&e.jsxs(de,{variant:"destructive",className:"mb-4 bg-red-50 border-red-200",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx(me,{children:v})]}),j&&e.jsx(de,{className:"mb-4 bg-blue-50 border-blue-200",children:e.jsx(me,{className:"text-blue-800",children:j})}),n==="method"&&!t&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(D,{onClick:()=>E("sms"),variant:"outline",className:"w-full justify-start h-auto py-4 border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:"📱"}),e.jsx("span",{children:"Mensaje SMS"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Recibir código por mensaje de texto"})]})}),e.jsx(D,{onClick:()=>E("whatsapp"),variant:"outline",className:"w-full justify-start h-auto py-4 border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:"💬"}),e.jsx("span",{children:"WhatsApp"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Recibir código por WhatsApp"})]})}),e.jsx(D,{onClick:()=>E("quiz"),variant:"outline",className:"w-full justify-start h-auto py-4 border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:"❓"}),e.jsx("span",{children:"Preguntas de Seguridad"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Responder preguntas de seguridad"})]})})]}),n==="method"&&(t==="sms"||t==="whatsapp")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"phone",className:"text-gray-700",children:"Número de Teléfono"}),e.jsx(X,{id:"phone",type:"tel",value:c,onChange:M=>x(M.target.value),placeholder:"+52 1234567890",className:"border-gray-300 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ingrese el número registrado en su cuenta"})]}),e.jsx(D,{onClick:b,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white",children:"Enviar Código"})]}),n==="verify"&&(t==="sms"||t==="whatsapp")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"code",className:"text-gray-700",children:"Código de Verificación"}),e.jsx(X,{id:"code",type:"text",value:g,onChange:M=>u(M.target.value),placeholder:"123456",maxLength:6,className:"border-gray-300 focus:border-blue-500 text-center text-2xl tracking-widest"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ingrese el código de 6 dígitos recibido"})]}),e.jsx(D,{onClick:N,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white",children:"Verificar Código"}),e.jsx(D,{onClick:()=>l("method"),variant:"outline",className:"w-full border-gray-300 hover:bg-gray-50",children:"Cambiar método"})]}),n==="verify"&&t==="quiz"&&e.jsxs("div",{className:"space-y-4",children:[k.map((M,W)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:`quiz-${W}`,className:"text-gray-700",children:M.question}),e.jsx(X,{id:`quiz-${W}`,type:"text",value:m[W],onChange:T=>{const te=[...m];te[W]=T.target.value,d(te)},placeholder:"Su respuesta",className:"border-gray-300 focus:border-blue-500"})]},W)),e.jsx(D,{onClick:C,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white",children:"Verificar Respuestas"}),e.jsx(D,{onClick:()=>{i(null),l("method")},variant:"outline",className:"w-full border-gray-300 hover:bg-gray-50",children:"Cambiar método"}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded border border-blue-200",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Respuestas demo:"})," max, monterrey, azul"]})})]})]})})]})}function dn(){const[s,a]=p.useState(!1),t=()=>{a(!1)};return s?e.jsx(on,{onLogout:t}):e.jsx(ln,{onLoginSuccess:()=>a(!0)})}Ea.createRoot(document.getElementById("root")).render(e.jsx(dn,{}));
