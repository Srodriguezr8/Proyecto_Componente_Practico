import{j as e,c as Hs,R as Os,T as Ls,I as Vs,V as Ks,P as Bs,C as qs,a as Gs,b as Us,d as Xs,e as Zs,S as Ys,f as Js,g as Qs,h as pe,u as xs,i as Ce,k as Re,l as us,m as hs,n as ps,o as et,L as st,p as tt,q as at,r as rt,s as nt,t as it,v as ot,w as lt,x as ct,y as dt,z as mt,D as xt,A as ut,O as ht,B as pt,E as gt,H as ft,F as vt,G as jt}from"./ui-components-DhLoz52a.js";import{e as bt,a as h,c as Nt,f as ce,P as yt,g as wt,C as kt,T as de,L as gs,h as fe,X as ve,Y as je,i as be,j as ie,A as Ct,k as St,B as At,l as Je}from"./charts-CgoNhumx.js";import{t as Et,c as fs}from"./vendor-BNe0Xlio.js";import{_ as Dt}from"./pdf-export-DazCCdzZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}})();var ge={},Qe;function Pt(){if(Qe)return ge;Qe=1;var s=bt();return ge.createRoot=s.createRoot,ge.hydrateRoot=s.hydrateRoot,ge}var Ft=Pt();function y(...s){return Et(fs(s))}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_t=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,l)=>l?l.toUpperCase():a.toLowerCase()),es=s=>{const t=_t(s);return t.charAt(0).toUpperCase()+t.slice(1)},vs=(...s)=>s.filter((t,a,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=h.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:c,iconNode:i,...g},f)=>h.createElement("svg",{ref:f,...Rt,width:t,height:t,stroke:s,strokeWidth:l?Number(a)*24/Number(t):a,className:vs("lucide",n),...g},[...i.map(([m,x])=>h.createElement(m,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=(s,t)=>{const a=h.forwardRef(({className:l,...n},c)=>h.createElement(zt,{ref:c,iconNode:t,className:vs(`lucide-${Mt(es(s))}`,`lucide-${s}`,l),...n}));return a.displayName=es(s),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],se=N("activity",Wt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$t=N("award",Tt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ht=N("bell",It);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Pe=N("brain",Ot);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ze=N("calendar",Lt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],me=N("chart-column",Vt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Bt=N("chart-line",Kt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],ss=N("chart-no-axes-column-increasing",qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ge=N("check",Gt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Se=N("chevron-down",Ut);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Zt=N("chevron-up",Xt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xe=N("circle-alert",Yt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ee=N("circle-check",Jt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ea=N("circle-x",Qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ta=N("cloud-upload",sa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ra=N("database",aa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ne=N("dollar-sign",na);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ae=N("download",ia);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],la=N("eye-off",oa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],We=N("eye",ca);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],ma=N("file-down",da);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ua=N("file-spreadsheet",xa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],J=N("file-text",ha);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ga=N("funnel",pa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],va=N("globe",fa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ba=N("info",ja);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ya=N("layout-dashboard",Na);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Fe=N("leaf",wa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ye=N("lightbulb",ka);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sa=N("loader-circle",Ca);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ea=N("lock",Aa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Pa=N("log-out",Da);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],js=N("mail",Fa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"M5 12h14",key:"1ays0h"}]],_a=N("minus",Ma);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ts=N("monitor",Ra);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wa=N("pen",za);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$a=N("save",Ta);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ha=N("send",Ia);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bs=N("settings",Oa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],le=N("shield",La);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ka=N("target",Va);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],qa=N("tree-pine",Ba);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Ns=N("trending-down",Ga);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],B=N("trending-up",Ua);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],we=N("triangle-alert",Xa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ys=N("upload",Za);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Te=N("user",Ya);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Qa=N("users",Ja);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],$e=N("waves",er);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],tr=N("wifi",sr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ue=N("x",ar);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$=N("zap",rr);function nr({currentPage:s,onPageChange:t,onLogout:a}){const[l,n]=h.useState(!1),[c,i]=h.useState(!1);h.useEffect(()=>{s.startsWith("analysis-")&&(i(!0),n(!0))},[s]);const g=m=>{if(m==="analysis"){l?i(x=>!x):(n(!0),setTimeout(()=>i(!0),150));return}i(!1),l?t(m):(n(!0),setTimeout(()=>t(m),150))},f=[{id:"about",name:"¿Quiénes Somos?",icon:ba,description:"Información del sistema"},{id:"dashboard",name:"Tablero",icon:ya,description:"Vista general y monitoreo"},{id:"analysis",name:"Análisis",icon:me,description:"Análisis",children:[{id:"analysis-realtime",name:"Análisis en Tiempo Real",icon:se,description:"Monitoreo en tiempo real"},{id:"analysis-imported",name:"Análisis Importado",icon:ta,description:"Análisis de datos importados"}]},{id:"configuration",name:"Configuración",icon:bs,description:"Ajustes del sistema"},{id:"reports",name:"Reportes",icon:J,description:"Generar reportes"},{id:"sparkcheck",name:"SparkCheck",icon:ye,description:"Asistente IA"},{id:"settings",name:"Ajustes y Perfil",icon:Te,description:"Preferencias de usuario"}];return e.jsx("div",{className:"ml-6 my-6",children:e.jsxs("div",{className:y("flex flex-col min-h-[calc(100vh-3rem)] transition-all duration-300 ease-in-out rounded-3xl","bg-gradient-to-b from-sidebar via-sidebar to-sidebar-accent shadow-2xl border border-sidebar-border/20 overflow-visible",l?"w-72":"w-20"),children:[e.jsxs("div",{className:"p-3 flex flex-col items-center relative",children:[l&&e.jsx("button",{onClick:()=>n(!1),className:"absolute top-2 right-2 w-6 h-6 bg-sidebar-accent/50 hover:bg-sidebar-accent rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110",children:e.jsx(Ue,{className:"w-3 h-3 text-sidebar-foreground"})}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 rounded-full flex items-center justify-center shadow-lg",children:e.jsx($,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),l&&e.jsxs("div",{className:"mt-1.5 text-center",children:[e.jsx("h2",{className:"text-sidebar-foreground font-semibold text-sm whitespace-nowrap",children:"Control EMS"}),e.jsx("p",{className:"text-sidebar-foreground/70 text-xs whitespace-nowrap mt-0.5",children:"Gestión de Energía"})]})]}),e.jsx("nav",{className:"flex-1 px-3 py-3 overflow-visible",children:e.jsx("div",{className:"space-y-2",children:f.map(m=>{const x=m.icon,d=s===m.id||m.children&&m.children.some(u=>u.id===s);return e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>g(m.id),className:y("transition-all duration-300 flex items-center relative overflow-hidden","hover:scale-110 hover:shadow-lg",l?"w-full px-4 py-3 justify-start rounded-xl":"w-12 h-12 justify-center mx-auto rounded-full",d?"bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 shadow-lg shadow-sidebar-primary/30 scale-105":"bg-gradient-to-br from-sidebar-accent to-sidebar-accent/80 hover:from-sidebar-primary/80 hover:to-sidebar-primary/60"),children:[e.jsx(x,{className:y("transition-colors duration-300 flex-shrink-0","w-5 h-5",d?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground group-hover:text-sidebar-primary-foreground")}),l&&e.jsxs("div",{className:"ml-3 overflow-hidden flex items-center justify-between w-full",children:[e.jsxs("div",{children:[e.jsx("div",{className:y("font-medium text-sm whitespace-nowrap transition-colors duration-300",d?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground group-hover:text-sidebar-primary-foreground"),children:m.name}),d&&e.jsx("div",{className:"text-xs text-sidebar-primary-foreground/70 mt-0.5 whitespace-nowrap",children:m.description})]}),m.children&&e.jsx(Se,{className:y("w-4 h-4 transition-transform duration-200",c?"rotate-180":"rotate-0",d?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground")})]}),d&&!l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-sidebar-primary opacity-20 animate-pulse"}),e.jsx("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 w-1 h-6 bg-sidebar-primary rounded-l-full"})]}),d&&l&&e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-2 h-2 bg-sidebar-primary-foreground rounded-full animate-pulse"})]}),!l&&e.jsxs("div",{className:"absolute left-full ml-4 px-3 py-2 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/90 text-sidebar-primary-foreground rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 shadow-lg transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("div",{className:"font-medium text-sm",children:m.name}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:m.description}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-sidebar-primary rotate-45"})]}),l&&m.children&&c&&e.jsx("div",{className:"mt-2 space-y-2 px-2",children:m.children.map(u=>{const r=u.icon,v=s===u.id;return e.jsxs("button",{onClick:()=>t(u.id),className:y("flex items-center w-full px-3 py-2 rounded-xl transition-all duration-200",v?"bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 shadow-md":"bg-gradient-to-br from-sidebar-accent to-sidebar-accent/80 hover:from-sidebar-primary/80 hover:to-sidebar-primary/60"),children:[e.jsx(r,{className:y("w-4 h-4 mr-3",v?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground")}),e.jsx("div",{className:y("text-sm font-medium",v?"text-sidebar-primary-foreground":"text-sidebar-accent-foreground"),children:u.name})]},u.id)})})]},m.id)})})}),e.jsxs("div",{className:"p-3 space-y-2 mt-auto flex-shrink-0",children:[l&&e.jsxs("div",{className:"bg-sidebar-accent/30 px-3 py-1.5 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"text-sidebar-foreground font-medium text-xs whitespace-nowrap",children:"Liam Gallagher"}),e.jsx("div",{className:"text-sidebar-foreground/70 text-xs whitespace-nowrap",children:"Administrador"})]}),e.jsxs("div",{className:"relative group flex justify-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",onClick:()=>n(!l),children:e.jsx("span",{className:"text-sidebar-primary-foreground font-semibold text-sm",children:"LG"})}),!l&&e.jsxs("div",{className:"absolute left-full ml-4 top-1/2 -translate-y-1/2 px-3 py-2 bg-gradient-to-br from-sidebar-primary to-sidebar-primary/90 text-sidebar-primary-foreground rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 shadow-lg transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("div",{className:"font-medium text-xs",children:"Liam Gallagher"}),e.jsx("div",{className:"text-xs opacity-75 mt-0.5",children:"Administrador"}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-sidebar-primary rotate-45"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:a,className:y("transition-all duration-300 flex items-center relative overflow-hidden","hover:scale-110 hover:shadow-lg",l?"w-full px-3 py-2 justify-start rounded-xl text-sm":"w-10 h-10 justify-center mx-auto rounded-full","bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"),children:[e.jsx(Pa,{className:"w-4 h-4 text-white flex-shrink-0"}),l&&e.jsx("span",{className:"ml-2 font-medium text-xs text-white whitespace-nowrap",children:"Cerrar"})]}),!l&&e.jsxs("div",{className:"absolute left-full ml-4 top-1/2 -translate-y-1/2 px-3 py-2 bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 shadow-lg transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("div",{className:"font-medium text-sm",children:"Cerrar Sesión"}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Salir del sistema"}),e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1 w-2 h-2 bg-red-500 rotate-45"})]})]})]})]})})}var ir=Symbol.for("react.lazy"),ke=Nt[" use ".trim().toString()];function or(s){return typeof s=="object"&&s!==null&&"then"in s}function ws(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===ir&&"_payload"in s&&or(s._payload)}function Xe(s){const t=lr(s),a=h.forwardRef((l,n)=>{let{children:c,...i}=l;ws(c)&&typeof ke=="function"&&(c=ke(c._payload));const g=h.Children.toArray(c),f=g.find(dr);if(f){const m=f.props.children,x=g.map(d=>d===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:d);return e.jsx(t,{...i,ref:n,children:h.isValidElement(m)?h.cloneElement(m,void 0,x):null})}return e.jsx(t,{...i,ref:n,children:c})});return a.displayName=`${s}.Slot`,a}var ks=Xe("Slot");function lr(s){const t=h.forwardRef((a,l)=>{let{children:n,...c}=a;if(ws(n)&&typeof ke=="function"&&(n=ke(n._payload)),h.isValidElement(n)){const i=xr(n),g=mr(c,n.props);return n.type!==h.Fragment&&(g.ref=l?Hs(l,i):i),h.cloneElement(n,g)}return h.Children.count(n)>1?h.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var cr=Symbol("radix.slottable");function dr(s){return h.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===cr}function mr(s,t){const a={...t};for(const l in t){const n=s[l],c=t[l];/^on[A-Z]/.test(l)?n&&c?a[l]=(...g)=>{const f=c(...g);return n(...g),f}:n&&(a[l]=n):l==="style"?a[l]={...n,...c}:l==="className"&&(a[l]=[n,c].filter(Boolean).join(" "))}return{...s,...a}}function xr(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}const as=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,rs=fs,Ze=(s,t)=>a=>{var l;if(t?.variants==null)return rs(s,a?.class,a?.className);const{variants:n,defaultVariants:c}=t,i=Object.keys(n).map(m=>{const x=a?.[m],d=c?.[m];if(x===null)return null;const u=as(x)||as(d);return n[m][u]}),g=a&&Object.entries(a).reduce((m,x)=>{let[d,u]=x;return u===void 0||(m[d]=u),m},{}),f=t==null||(l=t.compoundVariants)===null||l===void 0?void 0:l.reduce((m,x)=>{let{class:d,className:u,...r}=x;return Object.entries(r).every(v=>{let[o,p]=v;return Array.isArray(p)?p.includes({...c,...g}[o]):{...c,...g}[o]===p})?[...m,d,u]:m},[]);return rs(s,i,f,a?.class,a?.className)},ur=Ze("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function I({className:s,variant:t,asChild:a=!1,...l}){const n=a?ks:"span";return e.jsx(n,{"data-slot":"badge",className:y(ur({variant:t}),s),...l})}function S({className:s,...t}){return e.jsx("div",{"data-slot":"card",className:y("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...t})}function F({className:s,...t}){return e.jsx("div",{"data-slot":"card-header",className:y("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function M({className:s,...t}){return e.jsx("h4",{"data-slot":"card-title",className:y("leading-none",s),...t})}function O({className:s,...t}){return e.jsx("p",{"data-slot":"card-description",className:y("text-muted-foreground",s),...t})}function A({className:s,...t}){return e.jsx("div",{"data-slot":"card-content",className:y("px-6 [&:last-child]:pb-6",s),...t})}function hr({selectedDay:s,selectedDevice:t}){const a=[{name:"Dispositivo 1 - Edificio Principal",value:2400,color:"#fbbf24"},{name:"Dispositivo 2 - Manufactura",value:4567,color:"#f59e0b"},{name:"Dispositivo 3 - Bloque de Oficinas",value:1890,color:"#d97706"},{name:"Sistemas HVAC",value:3210,color:"#b45309"},{name:"Iluminación",value:1250,color:"#92400e"},{name:"Equipamiento",value:2100,color:"#78350f"}],l=a.reduce((c,i)=>c+i.value,0);if(l===0)return null;const n=({active:c,payload:i})=>{if(c&&i&&i.length){const g=i[0],f=(g.value/l*100).toFixed(1);return e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"font-medium",children:g.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.value.toLocaleString()," kWh (",f,"%)"]})]})}return null};return e.jsxs(S,{className:"border-border/30 shadow-sm bg-card/80 backdrop-blur-sm",children:[e.jsxs(F,{className:"pb-4",children:[e.jsx(M,{className:"text-lg font-semibold text-card-foreground",children:"Resumen de Consumo de Energía"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distribución del consumo de energía en todos los dispositivos activos para ",s]})]}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-1 py-2",children:[e.jsx("div",{className:"text-4xl font-bold text-foreground",children:l.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Consumo total kWh"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{style:{width:"100%",maxWidth:"400px",height:"300px"},children:e.jsx(ce,{width:"100%",height:"100%",children:e.jsxs(yt,{children:[e.jsx(wt,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:a.map((c,i)=>e.jsx(kt,{fill:c.color},`cell-${i}`))}),e.jsx(de,{content:e.jsx(n,{})})]})})})}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center px-2",children:a.map((c,i)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:c.color}}),e.jsx("span",{className:"text-foreground",children:c.name})]},i))}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Estado de Dispositivos"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:a.slice(0,3).map((c,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:c.color}}),e.jsx("span",{className:"text-sm",children:c.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[c.value.toLocaleString()," kWh"]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0",title:"Activo"})]})]},i))})]})]})})]})}function pr({dataMode:s,selectedDay:t}){const a=[{time:"00:00",maxDemand:1200,actualDemand:890},{time:"02:00",maxDemand:1200,actualDemand:750},{time:"04:00",maxDemand:1200,actualDemand:650},{time:"06:00",maxDemand:1200,actualDemand:980},{time:"08:00",maxDemand:1200,actualDemand:1150},{time:"10:00",maxDemand:1200,actualDemand:1080},{time:"12:00",maxDemand:1200,actualDemand:1190},{time:"14:00",maxDemand:1200,actualDemand:1240},{time:"16:00",maxDemand:1200,actualDemand:1180},{time:"18:00",maxDemand:1200,actualDemand:1350},{time:"20:00",maxDemand:1200,actualDemand:1220},{time:"22:00",maxDemand:1200,actualDemand:1010}];if(!a||a.length===0)return null;const l=({active:g,payload:f,label:m})=>g&&f&&f.length?e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"font-medium",children:`Hora: ${m}`}),f.map((x,d)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-1 rounded",style:{backgroundColor:x.color}}),e.jsxs("span",{className:"text-sm",children:[x.dataKey==="maxDemand"?"Demanda Máxima":"Demanda Real",": ",x.value," kW"]})]},d))]}):null,n=Math.round(a.reduce((g,f)=>g+f.actualDemand,0)/a.length),c=Math.max(...a.map(g=>g.actualDemand)),i=Math.round(n/1200*100);return e.jsxs(S,{className:"border-border/30 shadow-sm bg-card/80 backdrop-blur-sm",children:[e.jsxs(F,{className:"pb-4",children:[e.jsx(M,{className:"text-lg font-semibold text-card-foreground",children:"Demanda Máxima vs Real"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Comparación de la demanda pico contra el uso real a lo largo del tiempo (",s,")"]})]}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-xl font-bold text-foreground",children:[n," kW"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Demanda Promedio"})]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-xl font-bold text-foreground",children:[c," kW"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Demanda Pico"})]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-xl font-bold text-foreground",children:[i,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Eficiencia"})]})]}),e.jsx("div",{className:"h-80 min-h-[320px] w-full",style:{minHeight:"320px",height:"320px"},children:e.jsx(ce,{width:"100%",height:320,children:e.jsxs(gs,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(fe,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),e.jsx(ve,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:12}),e.jsx(je,{stroke:"hsl(var(--muted-foreground))",fontSize:12,domain:[0,1400]}),e.jsx(de,{content:e.jsx(l,{})}),e.jsx(be,{}),e.jsx(ie,{type:"monotone",dataKey:"maxDemand",stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",name:"Demanda Máxima",dot:!1}),e.jsx(ie,{type:"monotone",dataKey:"actualDemand",stroke:"#fbbf24",strokeWidth:3,name:"Demanda Real",dot:{fill:"#fbbf24",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#fbbf24",strokeWidth:2}})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Análisis de Demanda"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:"Hora Pico"}),e.jsx("span",{className:"text-sm font-medium",children:"18:00 (1,350 kW)"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:"Hora de Baja Demanda"}),e.jsx("span",{className:"text-sm font-medium",children:"04:00 (650 kW)"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:"Varianza de Demanda"}),e.jsx("span",{className:"text-sm font-medium",children:"700 kW (58.3%)"})]})]})]})]})})]})}function gr({dataMode:s,selectedDevice:t}){const a=[{id:"kva",name:"KVA",fullName:"Potencia Aparente",value:"1,245.6",unit:"kVA",change:"+5.2%",trend:"up",status:"normal"},{id:"kwh",name:"KWH",fullName:"Consumo de Energía",value:"8,932.4",unit:"kWh",change:"+12.8%",trend:"up",status:"alto"},{id:"kvar",name:"KVAR",fullName:"Potencia Reactiva",value:"342.1",unit:"kVAR",change:"-2.1%",trend:"down",status:"normal"},{id:"pf",name:"FP",fullName:"Factor de Potencia",value:"0.92",unit:"",change:"0.0%",trend:"stable",status:"óptimo"}],l=i=>{switch(i){case"up":return e.jsx(B,{className:"size-4"});case"down":return e.jsx(Ns,{className:"size-4"});default:return e.jsx(_a,{className:"size-4"})}},n=i=>{switch(i){case"alto":return"destructive";case"óptimo":return"default";default:return"secondary"}},c=i=>{switch(i){case"up":return"text-primary";case"down":return"text-red-400";default:return"text-sidebar-foreground/70"}};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(i=>e.jsxs(S,{className:"border-sidebar-border/30 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-sidebar via-sidebar to-sidebar-accent backdrop-blur-sm hover:scale-[1.02] transform",children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(M,{className:"text-sm font-medium text-sidebar-foreground",children:i.name}),e.jsx(I,{variant:n(i.status),className:"text-xs bg-gradient-to-r from-sidebar-primary to-sidebar-primary/80 text-sidebar-primary-foreground shadow-sm",children:i.status})]}),e.jsx(A,{className:"pb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("div",{className:"text-2xl font-bold text-sidebar-foreground",children:i.value}),i.unit&&e.jsx("div",{className:"text-sm text-sidebar-foreground/70",children:i.unit})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-sidebar-foreground/70",children:i.fullName}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${c(i.trend)}`,children:[l(i.trend),i.change]})]})]})})]},i.id))})}function G({...s}){return e.jsx(Os,{"data-slot":"select",...s})}function U({...s}){return e.jsx(Ks,{"data-slot":"select-value",...s})}function X({className:s,size:t="default",children:a,...l}){return e.jsxs(Ls,{"data-slot":"select-trigger","data-size":t,className:y("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[a,e.jsx(Vs,{asChild:!0,children:e.jsx(Se,{className:"size-4 opacity-50"})})]})}function Z({className:s,children:t,position:a="popper",...l}){return e.jsx(Bs,{children:e.jsxs(qs,{"data-slot":"select-content",className:y("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...l,children:[e.jsx(fr,{}),e.jsx(Gs,{className:y("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),e.jsx(vr,{})]})})}function T({className:s,children:t,...a}){return e.jsxs(Us,{"data-slot":"select-item",className:y("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Xs,{children:e.jsx(Ge,{className:"size-4"})})}),e.jsx(Zs,{children:t})]})}function fr({className:s,...t}){return e.jsx(Ys,{"data-slot":"select-scroll-up-button",className:y("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Zt,{className:"size-4"})})}function vr({className:s,...t}){return e.jsx(Js,{"data-slot":"select-scroll-down-button",className:y("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Se,{className:"size-4"})})}const jr=Ze("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),P=h.forwardRef(({className:s,variant:t,size:a,asChild:l=!1,...n},c)=>{const i=l?ks:"button";return e.jsx(i,{"data-slot":"button",className:y(jr({variant:t,size:a,className:s})),ref:c,...n})});P.displayName="Button";var Ee="Checkbox",[br]=ps(Ee),[Nr,Ye]=br(Ee);function yr(s){const{__scopeCheckbox:t,checked:a,children:l,defaultChecked:n,disabled:c,form:i,name:g,onCheckedChange:f,required:m,value:x="on",internal_do_not_use_render:d}=s,[u,r]=xs({prop:a,defaultProp:n??!1,onChange:f,caller:Ee}),[v,o]=h.useState(null),[p,j]=h.useState(null),k=h.useRef(!1),_=v?!!i||!!v.closest("form"):!0,b={checked:u,disabled:c,setChecked:r,control:v,setControl:o,name:g,form:i,value:x,hasConsumerStoppedPropagationRef:k,required:m,defaultChecked:ae(n)?!1:n,isFormControl:_,bubbleInput:p,setBubbleInput:j};return e.jsx(Nr,{scope:t,...b,children:wr(d)?d(b):l})}var Cs="CheckboxTrigger",Ss=h.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:a,...l},n)=>{const{control:c,value:i,disabled:g,checked:f,required:m,setControl:x,setChecked:d,hasConsumerStoppedPropagationRef:u,isFormControl:r,bubbleInput:v}=Ye(Cs,s),o=Ce(n,x),p=h.useRef(f);return h.useEffect(()=>{const j=c?.form;if(j){const k=()=>d(p.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[c,d]),e.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":ae(f)?"mixed":f,"aria-required":m,"data-state":Ms(f),"data-disabled":g?"":void 0,disabled:g,value:i,...l,ref:o,onKeyDown:Re(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Re(a,j=>{d(k=>ae(k)?!0:!k),v&&r&&(u.current=j.isPropagationStopped(),u.current||j.stopPropagation())})})});Ss.displayName=Cs;var As=h.forwardRef((s,t)=>{const{__scopeCheckbox:a,name:l,checked:n,defaultChecked:c,required:i,disabled:g,value:f,onCheckedChange:m,form:x,...d}=s;return e.jsx(yr,{__scopeCheckbox:a,checked:n,defaultChecked:c,disabled:g,required:i,onCheckedChange:m,name:l,form:x,value:f,internal_do_not_use_render:({isFormControl:u})=>e.jsxs(e.Fragment,{children:[e.jsx(Ss,{...d,ref:t,__scopeCheckbox:a}),u&&e.jsx(Fs,{__scopeCheckbox:a})]})})});As.displayName=Ee;var Es="CheckboxIndicator",Ds=h.forwardRef((s,t)=>{const{__scopeCheckbox:a,forceMount:l,...n}=s,c=Ye(Es,a);return e.jsx(Qs,{present:l||ae(c.checked)||c.checked===!0,children:e.jsx(pe.span,{"data-state":Ms(c.checked),"data-disabled":c.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...s.style}})})});Ds.displayName=Es;var Ps="CheckboxBubbleInput",Fs=h.forwardRef(({__scopeCheckbox:s,...t},a)=>{const{control:l,hasConsumerStoppedPropagationRef:n,checked:c,defaultChecked:i,required:g,disabled:f,name:m,value:x,form:d,bubbleInput:u,setBubbleInput:r}=Ye(Ps,s),v=Ce(a,r),o=us(c),p=hs(l);h.useEffect(()=>{const k=u;if(!k)return;const _=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(_,"checked").set,E=!n.current;if(o!==c&&w){const R=new Event("click",{bubbles:E});k.indeterminate=ae(c),w.call(k,ae(c)?!1:c),k.dispatchEvent(R)}},[u,o,c,n]);const j=h.useRef(ae(c)?!1:c);return e.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??j.current,required:g,disabled:f,name:m,value:x,form:d,...t,tabIndex:-1,ref:v,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Fs.displayName=Ps;function wr(s){return typeof s=="function"}function ae(s){return s==="indeterminate"}function Ms(s){return ae(s)?"indeterminate":s?"checked":"unchecked"}function kr({className:s,...t}){return e.jsx(As,{"data-slot":"checkbox",className:y("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(Ds,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Ge,{className:"size-3.5"})})})}function Cr({selectedFilterType:s,selectedDevice:t,selectedDevices:a,dataMode:l,selectedDay:n,onFilterTypeChange:c,onDeviceChange:i,onDevicesChange:g,onDataModeChange:f,onDayChange:m,onApplyFilters:x}){const[d,u]=h.useState(!1),r=[{id:"device-1",name:"Edificio Principal - Piso 1",location:"Edificio A",status:"active"},{id:"device-2",name:"Edificio Principal - Piso 2",location:"Edificio A",status:"active"},{id:"device-3",name:"Unidad de Manufactura 1",location:"Edificio B",status:"active"},{id:"device-4",name:"Unidad de Manufactura 2",location:"Edificio B",status:"warning"},{id:"device-5",name:"Bloque de Oficinas A",location:"Edificio C",status:"active"},{id:"device-6",name:"Bloque de Oficinas B",location:"Edificio C",status:"active"},{id:"device-7",name:"Línea de Producción A",location:"Edificio B",status:"active"},{id:"device-8",name:"Línea de Producción B",location:"Edificio B",status:"active"},{id:"device-9",name:"Unidad de Ensamblaje 1",location:"Edificio D",status:"active"},{id:"device-10",name:"Unidad de Ensamblaje 2",location:"Edificio D",status:"inactive"}],v={"group-production":{name:"Grupo de Producción",devices:["device-3","device-4","device-7","device-8","device-9","device-10"]},"group-administration":{name:"Grupo Administrativo",devices:["device-1","device-2","device-5","device-6"]}},o=[{id:"real-time",name:"Tiempo Real"},{id:"historical",name:"Histórico"},{id:"combined",name:"Combinado"}],p=[{id:"today",name:"Hoy"},{id:"yesterday",name:"Ayer"},{id:"last-7-days",name:"Últimos 7 Días"},{id:"last-30-days",name:"Últimos 30 Días"}],j=b=>{const w=a.includes(b)?a.filter(E=>E!==b):[...a,b];g(w)},k=b=>{const w=v[b];return w?r.filter(E=>w.devices.includes(E.id)):[]},_=b=>{switch(b){case"active":return"bg-green-500";case"warning":return"bg-yellow-500";case"inactive":return"bg-gray-400";default:return"bg-gray-400"}};return e.jsx(S,{className:"border-border/30 shadow-sm mb-6 bg-card/80 backdrop-blur-sm",children:e.jsx(A,{className:"p-5",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tipo de Filtro"}),e.jsxs(G,{value:s,onValueChange:b=>c(b),children:[e.jsx(X,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(U,{placeholder:"Seleccionar tipo de filtro"})}),e.jsxs(Z,{children:[e.jsx(T,{value:"device",children:"Dispositivo Individual"}),e.jsx(T,{value:"virtual-group",children:"Grupo Virtual"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:s==="device"?"Seleccionar Dispositivo":"Seleccionar Grupo Virtual y Dispositivos"}),s==="device"?e.jsxs(G,{value:t,onValueChange:i,children:[e.jsx(X,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(U,{placeholder:"Elegir un dispositivo"})}),e.jsx(Z,{children:r.map(b=>e.jsx(T,{value:b.id,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${_(b.status)}`}),e.jsx("span",{className:"flex-1",children:b.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:b.location})]})},b.id))})]}):e.jsxs(G,{value:t,onValueChange:i,open:d,onOpenChange:u,children:[e.jsx(X,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(U,{placeholder:"Elegir grupo virtual",children:t&&v[t]&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:v[t].name}),a.length>0&&e.jsxs(I,{variant:"secondary",className:"ml-2 text-xs",children:[a.length," dispositivos seleccionados"]})]})})}),e.jsx(Z,{className:"w-[400px]",children:Object.entries(v).map(([b,w])=>e.jsxs("div",{children:[e.jsx(T,{value:b,onSelect:()=>{i(b),u(!0)},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:w.name}),e.jsxs(I,{variant:"outline",className:"text-xs",children:[w.devices.length," dispositivos"]})]})}),t===b&&e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-primary/20 space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Seleccionar dispositivos:"}),k(b).map(E=>e.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-muted/50 rounded cursor-pointer",onClick:R=>{R.preventDefault(),R.stopPropagation(),j(E.id)},children:[e.jsx(kr,{checked:a.includes(E.id),onCheckedChange:()=>j(E.id),disabled:E.status==="inactive"}),e.jsx("div",{className:`w-2 h-2 rounded-full ${_(E.status)}`}),e.jsx("span",{className:"text-sm flex-1",children:E.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:E.location})]},E.id))]})]},b))})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Modo de Datos"}),e.jsxs(G,{value:l,onValueChange:f,children:[e.jsx(X,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(U,{placeholder:"Seleccionar modo"})}),e.jsx(Z,{children:o.map(b=>e.jsx(T,{value:b.id,children:b.name},b.id))})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Período de Tiempo"}),e.jsxs(G,{value:n,onValueChange:m,children:[e.jsx(X,{className:"h-11 border-border/50 bg-background/50",children:e.jsx(U,{placeholder:"Seleccionar período"})}),e.jsx(Z,{children:p.map(b=>e.jsx(T,{value:b.id,children:b.name},b.id))})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(P,{onClick:x,className:"h-11 px-6 bg-primary hover:bg-primary/90 shadow-sm",children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"Aplicar Filtro"]})})]})})})}function Sr(){const[s,t]=h.useState("device"),[a,l]=h.useState("device-1"),[n,c]=h.useState([]),[i,g]=h.useState("real-time"),[f,m]=h.useState("today"),x=()=>{console.log("Applying filters:",{filterType:s,device:a,devices:n,dataMode:i,selectedDay:f})},d=u=>{t(u),u==="device"?(l("device-1"),c([])):(l("group-production"),c([]))};return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#ffffff"},children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex flex-col space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"¡Hola, Liam Gallagher! 👋"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"¿Qué estás buscando hoy?"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(I,{className:"bg-primary/10 text-primary border-primary/20 px-3 py-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"}),"Monitoreo en tiempo real activo"]})})]})}),e.jsx(Cr,{selectedFilterType:s,selectedDevice:a,selectedDevices:n,dataMode:i,selectedDay:f,onFilterTypeChange:d,onDeviceChange:l,onDevicesChange:c,onDataModeChange:g,onDayChange:m,onApplyFilters:x}),e.jsx(gr,{dataMode:i,selectedDevice:s==="device"?a:n.join(",")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(hr,{selectedDay:f,selectedDevice:s==="device"?a:n.join(",")}),e.jsx(pr,{dataMode:i,selectedDay:f})]})]})})}function Ar({className:s,...t}){return e.jsx(et,{"data-slot":"tabs",className:y("flex flex-col gap-2",s),...t})}function Er({className:s,...t}){return e.jsx(st,{"data-slot":"tabs-list",className:y("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",s),...t})}function Me({className:s,...t}){return e.jsx(tt,{"data-slot":"tabs-trigger",className:y("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function Ie({data:s,graphType:t,deviceName:a}){if(!s||s.length===0)return e.jsx(S,{children:e.jsxs(F,{children:[e.jsx(M,{children:"No Hay Datos Disponibles"}),e.jsx(O,{children:"No hay datos de análisis disponibles para este dispositivo"})]})});const l=()=>e.jsx("div",{className:"w-full min-h-[400px]",style:{minHeight:"400px"},children:e.jsx(ce,{width:"100%",height:400,minHeight:400,children:e.jsxs(Ct,{data:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"consumptionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#fbbf24",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#fbbf24",stopOpacity:0})]})}),e.jsx(fe,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(ve,{dataKey:"timestamp",className:"text-xs",tick:{fontSize:12,fill:"#000000"}}),e.jsx(je,{className:"text-xs",tick:{fontSize:12,fill:"#000000"}}),e.jsx(de,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"#000000"},labelFormatter:x=>`Hora: ${x}`,formatter:(x,d)=>[`${x.toFixed(2)} ${d==="kwh"?"kWh":d==="kw"?"kW":d==="billing"?"₹":d.toUpperCase()}`,d==="kwh"?"Consumo de Energía":d==="kw"?"Potencia Activa":d==="billing"?"Monto de Facturación":d.toUpperCase()]}),e.jsx(be,{wrapperStyle:{color:"#000000"}}),e.jsx(St,{type:"monotone",dataKey:"kwh",stroke:"#fbbf24",strokeWidth:2,fill:"url(#consumptionGradient)",name:"Energía (kWh)"}),e.jsx(ie,{type:"monotone",dataKey:"kw",stroke:"#f59e0b",strokeWidth:2,name:"Potencia (kW)",dot:!1})]})})}),n=()=>e.jsx("div",{className:"w-full min-h-[400px]",style:{minHeight:"400px"},children:e.jsx(ce,{width:"100%",height:400,minHeight:400,children:e.jsxs(gs,{data:s,children:[e.jsx(fe,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(ve,{dataKey:"timestamp",className:"text-xs",tick:{fontSize:12,fill:"#000000"}}),e.jsx(je,{className:"text-xs",tick:{fontSize:12,fill:"#000000"}}),e.jsx(de,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"#000000"},labelFormatter:x=>`Hora: ${x}`,formatter:(x,d)=>[`${x.toFixed(2)} ${d==="kvah"?"KVAH":d==="kva"?"KVA":d==="kw"?"KW":d==="pf"?"":d==="kvarh_lag"||d==="kvarh_lead"?"KVARh":""}`,d==="kvah"?"Energía Aparente":d==="kva"?"Potencia Aparente":d==="kw"?"Potencia Activa":d==="pf"?"Factor de Potencia":d==="kvarh_lag"?"Energía Reactiva (Retraso)":d==="kvarh_lead"?"Energía Reactiva (Adelanto)":d]}),e.jsx(be,{wrapperStyle:{color:"#000000"}}),e.jsx(ie,{type:"monotone",dataKey:"kvah",stroke:"hsl(var(--primary))",strokeWidth:2,name:"KVAH",dot:!1}),e.jsx(ie,{type:"monotone",dataKey:"kva",stroke:"hsl(var(--chart-2))",strokeWidth:2,name:"KVA",dot:!1}),e.jsx(ie,{type:"monotone",dataKey:"kw",stroke:"hsl(var(--chart-3))",strokeWidth:2,name:"KW",dot:!1}),e.jsx(ie,{type:"monotone",dataKey:"pf",stroke:"hsl(var(--chart-4))",strokeWidth:2,name:"Factor de Potencia",dot:!1})]})})}),c=()=>e.jsx("div",{className:"w-full min-h-[400px]",style:{minHeight:"400px"},children:e.jsx(ce,{width:"100%",height:400,minHeight:400,children:e.jsxs(At,{data:s,children:[e.jsx(fe,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(ve,{dataKey:"timestamp",className:"text-xs",tick:{fontSize:12,fill:"#000000"}}),e.jsx(je,{className:"text-xs",tick:{fontSize:12,fill:"#000000"}}),e.jsx(de,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"#000000"},labelFormatter:x=>`Hora: ${x}`,formatter:(x,d)=>[`${x.toFixed(2)} KVARh`,d==="kvarh_lag"?"Energía Reactiva (Retraso)":"Energía Reactiva (Adelanto)"]}),e.jsx(be,{wrapperStyle:{color:"#000000"}}),e.jsx(Je,{dataKey:"kvarh_lag",fill:"#fbbf24",name:"KVARh (Retraso)",radius:[2,2,0,0]}),e.jsx(Je,{dataKey:"kvarh_lead",fill:"#f59e0b",name:"KVARh (Adelanto)",radius:[2,2,0,0]})]})})}),i=()=>{switch(t){case"consumption":return"Tendencias de Consumo de Energía";case"parameterized":return"Análisis de Potencia Parametrizado";case"harmonic":return"Análisis Armónico - Potencia Reactiva";default:return"Análisis de Energía"}},g=()=>{switch(t){case"consumption":return"Monitoreo en tiempo real de consumo de energía y potencia activa";case"parameterized":return"Parámetros de potencia integrales incluyendo KVAH, KVA, KW y Factor de Potencia";case"harmonic":return"Análisis de potencia reactiva mostrando componentes de retraso y adelanto";default:return"Análisis del sistema de energía"}},m=(()=>{switch(t){case"consumption":return B;case"parameterized":return me;case"harmonic":return $e;default:return B}})();return e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-primary"}),i()]}),e.jsxs(O,{children:[g()," para ",a]})]}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ar,{value:t,onValueChange:x=>onGraphTypeChange&&onGraphTypeChange(x),className:"w-full",children:e.jsxs(Er,{className:"grid w-full grid-cols-3",children:[e.jsxs(Me,{value:"consumption",className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Consumo"]}),e.jsxs(Me,{value:"parameterized",className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),"Parámetros"]}),e.jsxs(Me,{value:"harmonic",className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),"Armónico"]})]})}),e.jsxs("div",{className:"w-full",children:[t==="consumption"&&l(),t==="parameterized"&&n(),t==="harmonic"&&c()]})]})})]})}var Dr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pr=Dr.reduce((s,t)=>{const a=Xe(`Primitive.${t}`),l=h.forwardRef((n,c)=>{const{asChild:i,...g}=n,f=i?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...g,ref:c})});return l.displayName=`Primitive.${t}`,{...s,[t]:l}},{}),Fr="Separator",ns="horizontal",Mr=["horizontal","vertical"],_s=h.forwardRef((s,t)=>{const{decorative:a,orientation:l=ns,...n}=s,c=_r(l)?l:ns,g=a?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Pr.div,{"data-orientation":c,...g,...n,ref:t})});_s.displayName=Fr;function _r(s){return Mr.includes(s)}var Rr=_s;function te({className:s,orientation:t="horizontal",decorative:a=!0,...l}){return e.jsx(Rr,{"data-slot":"separator-root",decorative:a,orientation:t,className:y("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...l})}function zr({data:s}){const t=[{id:"kvah",label:"KVAH",value:s.kvah,unit:"KVAH",description:"Energía Aparente",icon:ss,color:"text-primary"},{id:"billing",label:"Facturación",value:s.billing,unit:"₹",description:"Facturación Actual",icon:B,color:"text-chart-3"},{id:"kva",label:"KVA",value:s.kva,unit:"KVA",description:"Potencia Aparente",icon:$,color:"text-chart-2"},{id:"kw",label:"KW",value:s.kw,unit:"KW",description:"Potencia Activa",icon:se,color:"text-primary"},{id:"kwh",label:"KWH",value:s.kwh,unit:"KWH",description:"Consumo de Energía",icon:B,color:"text-chart-1"},{id:"pf",label:"Factor de Potencia",value:s.pf,unit:"",description:"Factor de Potencia",icon:ss,color:"text-chart-4"},{id:"kvarh_lag",label:"KVARh (Retraso)",value:s.kvarh_lag,unit:"KVARh",description:"Energía Reactiva Retraso",icon:se,color:"text-chart-4"},{id:"kvarh_lead",label:"KVARh (Adelanto)",value:s.kvarh_lead,unit:"KVARh",description:"Energía Reactiva Adelanto",icon:se,color:"text-chart-5"}],l=(n=>n>=.95?{status:"Excelente",variant:"default",color:"bg-green-500"}:n>=.85?{status:"Bueno",variant:"secondary",color:"bg-yellow-500"}:{status:"Pobre",variant:"destructive",color:"bg-red-500"})(s.pf);return e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-primary"}),"Datos del Dispositivo en Tiempo Real"]}),e.jsxs(O,{children:["Lecturas de parámetros en vivo - Última actualización: ",s.timestamp]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"En Vivo"})]})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-accent/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Estado del Factor de Potencia"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicador de eficiencia del sistema"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.pf.toFixed(3)}),e.jsx(I,{variant:l.variant,children:l.status})]})]})}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"PARÁMETROS DE ENERGÍA"}),t.map((n,c)=>{const i=n.icon;return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-accent/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-accent/50 ${n.color}`,children:e.jsx(i,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:n.label}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:n.id==="pf"?n.value.toFixed(3):n.value.toFixed(2)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.unit})]})]},n.id)})]}),e.jsx(te,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-accent/30 rounded-lg",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Demanda Pico"}),e.jsxs("div",{className:"font-semibold",children:[Math.max(s.kw,s.kva).toFixed(1)," KW"]})]}),e.jsxs("div",{className:"p-3 bg-accent/30 rounded-lg",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Eficiencia"}),e.jsxs("div",{className:"font-semibold",children:[(s.kw/s.kva*100).toFixed(1),"%"]})]})]})]})]})}function Wr({className:s,...t}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:y("w-full caption-bottom text-sm",s),...t})})}function Tr({className:s,...t}){return e.jsx("thead",{"data-slot":"table-header",className:y("[&_tr]:border-b",s),...t})}function $r({className:s,...t}){return e.jsx("tbody",{"data-slot":"table-body",className:y("[&_tr:last-child]:border-0",s),...t})}function is({className:s,...t}){return e.jsx("tr",{"data-slot":"table-row",className:y("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function re({className:s,...t}){return e.jsx("th",{"data-slot":"table-head",className:y("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function ne({className:s,...t}){return e.jsx("td",{"data-slot":"table-cell",className:y("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function Ir({...s}){return e.jsx(at,{"data-slot":"dropdown-menu",...s})}function Hr({...s}){return e.jsx(rt,{"data-slot":"dropdown-menu-trigger",...s})}function Or({className:s,sideOffset:t=4,...a}){return e.jsx(nt,{children:e.jsx(it,{"data-slot":"dropdown-menu-content",sideOffset:t,className:y("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...a})})}function os({className:s,inset:t,variant:a="default",...l}){return e.jsx(ot,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":a,className:y("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l})}function Lr({data:s,deviceName:t}){const[a,l]=h.useState(!1),n=h.useRef(null),c=()=>{const x=s.reduce((b,w)=>b+w.kwh,0),d=s.reduce((b,w)=>b+w.kw,0)/s.length,u=Math.max(...s.map(b=>b.kw)),r=s.reduce((b,w)=>b+w.billing,0),v=s.reduce((b,w)=>b+w.pf,0)/s.length,o=s.reduce((b,w)=>b+w.co2_emissions,0),p=x*.3,j=x*.25,k=x,_=s[s.length-1];return{todayKWH:p,yesterdayKWH:j,thisMonthKWH:k,lastReading:_,totalKWH:x,averageKW:d,maxKW:u,totalBilling:r,averagePF:v,totalCO2:o}},i=c(),g=[{period:"Hoy",kwh:i.todayKWH,billing:i.todayKWH*8.5,peakKW:i.maxKW*.8,avgPF:i.averagePF,co2:i.todayKWH*.82,status:"Activo",icon:ze},{period:"Ayer",kwh:i.yesterdayKWH,billing:i.yesterdayKWH*8.5,peakKW:i.maxKW*.75,avgPF:i.averagePF*.95,co2:i.yesterdayKWH*.82,status:"Completado",icon:B},{period:"Este Mes",kwh:i.thisMonthKWH,billing:i.totalBilling,peakKW:i.maxKW,avgPF:i.averagePF,co2:i.totalCO2,status:"En Progreso",icon:ze},{period:"Última Lectura",kwh:i.lastReading.kwh,billing:i.lastReading.billing,peakKW:i.lastReading.kw,avgPF:i.lastReading.pf,co2:i.lastReading.co2_emissions,status:"En Vivo",icon:$}],f=async x=>{l(!0);try{const d=c(),u=[{period:"Hoy",kwh:d.todayKWH,billing:d.todayKWH*8.5,peakKW:d.maxKW*.8,avgPF:d.averagePF,co2:d.todayKWH*.82,status:"Activo"},{period:"Ayer",kwh:d.yesterdayKWH,billing:d.yesterdayKWH*8.5,peakKW:d.maxKW*.75,avgPF:d.averagePF*.95,co2:d.yesterdayKWH*.82,status:"Completado"},{period:"Este Mes",kwh:d.thisMonthKWH,billing:d.totalBilling,peakKW:d.maxKW,avgPF:d.averagePF,co2:d.totalCO2,status:"En Progreso"},{period:"Última Lectura",kwh:d.lastReading.kwh,billing:d.lastReading.billing,peakKW:d.lastReading.kw,avgPF:d.lastReading.pf,co2:d.lastReading.co2_emissions,status:"En Vivo"}];if(x==="pdf"){const r=new jsPDF({orientation:"portrait",unit:"mm",format:"a4"}),v=r.internal.pageSize.getWidth();let o=15;const p=12,j=v-2*p;r.setFont("Helvetica","bold"),r.setFontSize(16),r.text("REPORTE RESUMIDO DE ENERGÍA",p,o),o+=10,r.setFont("Helvetica","normal"),r.setFontSize(10),r.text(`Dispositivo: ${t}`,p,o),o+=6,r.text(`Generado: ${new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,p,o),o+=10,r.setDrawColor(100,100,100),r.line(p,o,v-p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(11),r.text("HISTORIAL DE CONSUMO",p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(9),r.setFillColor(50,100,150),r.setTextColor(255,255,255);const k=p,_=p+35,b=p+65,w=p+95,E=p+125,R=p+150,L=p+170,C=o;r.rect(k,C-5,j,6,"F"),r.text("Período",k+1,C),r.text("kWh",_+1,C),r.text("₹ Fact.",b+1,C),r.text("Pico kW",w+1,C),r.text("FP Prom",E+1,C),r.text("CO₂ kg",R+1,C),r.text("Estado",L+1,C),o+=7,r.setTextColor(0,0,0),r.setFont("Helvetica","normal"),r.setFontSize(8),u.forEach((W,K)=>{K%2===0&&(r.setFillColor(240,245,250),r.rect(k,o-5,j,6,"F")),r.text(W.period,k+1,o),r.text(W.kwh.toFixed(1),_+1,o),r.text(W.billing.toFixed(2),b+1,o),r.text(W.peakKW.toFixed(1),w+1,o),r.text(W.avgPF.toFixed(3),E+1,o),r.text(W.co2.toFixed(1),R+1,o),r.text(W.status,L+1,o),o+=6}),o+=8,r.setDrawColor(100,100,100),r.line(p,o,v-p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(11),r.text("RESUMEN DE MÉTRICAS",p,o),o+=8,r.setFont("Helvetica","normal"),r.setFontSize(9),[["Consumo Total",`${d.totalKWH.toFixed(1)} kWh`],["Consumo Promedio",`${d.averageKW.toFixed(2)} kW`],["Demanda Máxima",`${d.maxKW.toFixed(2)} kW`],["Costo Total",`₹${d.totalBilling.toFixed(2)}`],["Factor de Potencia Promedio",`${d.averagePF.toFixed(3)}`],["Emisiones CO₂",`${d.totalCO2.toFixed(2)} kg`]].forEach((W,K)=>{K%2===0&&(r.setFillColor(240,245,250),r.rect(p,o-5,j,6,"F")),r.setFont("Helvetica","bold"),r.text(W[0],p+2,o),r.setFont("Helvetica","normal"),r.text(W[1],v-p-40,o),o+=6}),o=r.internal.pageSize.getHeight()-10,r.setFont("Helvetica","normal"),r.setFontSize(8),r.setTextColor(150,150,150),r.text("SparkCheck Energy Management System - Reporte generado automáticamente",v/2,o,{align:"center"}),r.save(`reporte-resumido-${t.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`)}else if(x==="excel"){const r=["Período","Energía (kWh)","Facturación (₹)","Demanda Pico (kW)","Factor Potencia Prom.","Emisiones CO₂ (kg)","Estado"];let v="data:text/csv;charset=utf-8,\uFEFF";v+=`REPORTE RESUMIDO DE ENERGÍA
`,v+=`Dispositivo:,${t}
`,v+=`Generado:,${new Date().toLocaleDateString("es-ES")}
`,v+=`
`,v+=r.join(",")+`
`,u.forEach(j=>{v+=[j.period,j.kwh.toFixed(2),j.billing.toFixed(2),j.peakKW.toFixed(2),j.avgPF.toFixed(3),j.co2.toFixed(2),j.status].join(",")+`
`}),v+=`
`,v+=`RESUMEN DE MÉTRICAS
`,v+=["Métrica","Valor"].join(",")+`
`,v+=["Consumo Total",`${d.totalKWH.toFixed(1)} kWh`].join(",")+`
`,v+=["Consumo Promedio",`${d.averageKW.toFixed(2)} kW`].join(",")+`
`,v+=["Demanda Máxima",`${d.maxKW.toFixed(2)} kW`].join(",")+`
`,v+=["Costo Total",`₹${d.totalBilling.toFixed(2)}`].join(",")+`
`,v+=["Factor de Potencia Promedio",d.averagePF.toFixed(3)].join(",")+`
`,v+=["Emisiones CO₂",`${d.totalCO2.toFixed(2)} kg`].join(",")+`
`;const o=encodeURI(v),p=document.createElement("a");p.setAttribute("href",o),p.setAttribute("download",`reporte-${t.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(p),p.click(),document.body.removeChild(p)}}catch(d){console.error(`Error exportando a ${x.toUpperCase()}:`,d)}finally{l(!1)}},m=x=>{switch(x){case"Activo":case"En Vivo":return"default";case"Completado":return"secondary";case"En Progreso":return"outline";default:return"secondary"}};return e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-primary"}),"Reporte Resumido"]}),e.jsxs(O,{children:["Métricas agregadas de energía para ",t]})]}),e.jsxs(Ir,{children:[e.jsx(Hr,{asChild:!0,children:e.jsxs(P,{variant:"outline",disabled:a,className:"gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),a?"Exportando...":"Descargar Reporte"]})}),e.jsxs(Or,{align:"end",children:[e.jsxs(os,{onClick:()=>f("excel"),className:"gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Exportar como Excel"]}),e.jsxs(os,{onClick:()=>f("pdf"),className:"gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Exportar como PDF"]})]})]})]})}),e.jsx(A,{children:e.jsxs("div",{ref:n,className:"space-y-6",children:[e.jsx("div",{className:"rounded-lg border",children:e.jsxs(Wr,{children:[e.jsx(Tr,{children:e.jsxs(is,{children:[e.jsx(re,{className:"w-[120px]",children:"Período"}),e.jsx(re,{children:"Energía (kWh)"}),e.jsx(re,{children:"Facturación (₹)"}),e.jsx(re,{children:"Demanda Pico (kW)"}),e.jsx(re,{children:"Factor de Potencia Promedio"}),e.jsx(re,{children:"Emisiones CO₂ (kg)"}),e.jsx(re,{children:"Estado"})]})}),e.jsx($r,{children:g.map((x,d)=>{const u=x.icon;return e.jsxs(is,{className:"hover:bg-muted/50",children:[e.jsx(ne,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-muted-foreground"}),x.period]})}),e.jsxs(ne,{children:[e.jsx("div",{className:"font-medium",children:x.kwh.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kWh"})]}),e.jsxs(ne,{children:[e.jsxs("div",{className:"font-medium",children:["₹",x.billing.toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"INR"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"font-medium",children:x.peakKW.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kW"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"font-medium",children:x.avgPF.toFixed(3)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x.avgPF>=.95?"Excelente":x.avgPF>=.85?"Bueno":"Pobre"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"font-medium",children:x.co2.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"kg CO₂"})]}),e.jsx(ne,{children:e.jsx(I,{variant:m(x.status),children:x.status})})]},d)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Consumo Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:i.totalKWH.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"kWh"})]}),e.jsxs("div",{className:"p-4 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(J,{className:"w-4 h-4 text-chart-3"}),e.jsx("span",{className:"text-sm font-medium",children:"Facturación Total"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:["₹",i.totalBilling.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"INR"})]}),e.jsxs("div",{className:"p-4 bg-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{className:"w-4 h-4 text-chart-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Demanda Pico"})]}),e.jsx("div",{className:"text-2xl font-bold",children:i.maxKW.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"kW"})]})]})]})})]})}function He({data:s}){const t=s.reduce((f,m)=>f+m.co2_emissions,0),a=t/s.length,l=s.reduce((f,m)=>f+m.kwh,0),n=.82,c=t/22,g=(f=>f<30?{level:"Bajo",variant:"default",color:"text-green-600"}:f<50?{level:"Moderado",variant:"secondary",color:"text-yellow-600"}:{level:"Alto",variant:"destructive",color:"text-red-600"})(a);return e.jsxs(S,{className:"border-l-4 border-l-green-500",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5 text-green-600"}),"Impacto Ambiental"]}),e.jsx(O,{children:"Emisiones de CO₂ y métricas ambientales basadas en el consumo de energía"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(we,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"CO₂ Total"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:t.toFixed(1)}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"kg CO₂"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Prom/Hora"})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:a.toFixed(1)}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"kg CO₂/hr"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qa,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-300",children:"Árboles Necesarios"})]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200",children:c.toFixed(0)}),e.jsx("div",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:"árboles/año"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nivel de Impacto"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(I,{variant:g.variant,className:"text-lg px-3 py-1",children:g.level})}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:g.level==="Bajo"?"¡Excelente eficiencia!":g.level==="Moderado"?"Espacio para mejora":"Considerar optimización de energía"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-accent/30 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-green-600"}),"Perspectivas Ambientales"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Intensidad de Carbono:"})," ",n," kg CO₂ por kWh"]}),e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Energía Total:"})," ",l.toFixed(1)," kWh consumidos"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Potencial de Reducción:"})," Hasta 20% con optimización"]}),e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Objetivo:"})," <30 kg CO₂/hr para eficiencia óptima"]})]})]})]})]})]})}function Vr(){const[s,t]=h.useState("device-001"),[a,l]=h.useState("all"),[n,c]=h.useState("consumption"),i=[{id:"device-001",name:"Panel de Energía Principal A",location:"Edificio A - Piso 1"},{id:"device-002",name:"Unidad de Control HVAC",location:"Edificio A - Piso 2"},{id:"device-003",name:"Línea de Manufactura 1",location:"Piso de Producción"},{id:"device-004",name:"Circuito de Iluminación B",location:"Edificio B - Todos los Pisos"},{id:"device-005",name:"UPS Sala de Servidores",location:"Centro de Datos"}],g=[{id:"all",name:"Todos los Turnos"},{id:"morning",name:"Turno Matutino (6AM - 2PM)"},{id:"afternoon",name:"Turno Vespertino (2PM - 10PM)"},{id:"night",name:"Turno Nocturno (10PM - 6AM)"}],f=[{id:"consumption",name:"Consumo",icon:B},{id:"parameterized",name:"Vista Parametrizada",icon:me},{id:"harmonic",name:"Análisis Armónico",icon:$e}],m=Array.from({length:24},(u,r)=>({deviceId:s,timestamp:`${String(r).padStart(2,"0")}:00`,kvah:45+Math.random()*20,billing:(45+Math.random()*20)*8.5,kva:42+Math.random()*18,kw:38+Math.random()*15,kwh:35+Math.random()*25,pf:.85+Math.random()*.1,kvarh_lag:12+Math.random()*8,kvarh_lead:8+Math.random()*5,co2_emissions:(35+Math.random()*25)*.82})),x=i.find(u=>u.id===s),d=()=>{const r=[["deviceId","timestamp","kvah","billing","kva","kw","kwh","pf","kvarh_lag","kvarh_lead","co2_emissions"].join(","),...m.map(o=>[o.deviceId,o.timestamp,o.kvah.toFixed(2),o.billing.toFixed(2),o.kva.toFixed(2),o.kw.toFixed(2),o.kwh.toFixed(2),o.pf.toFixed(3),o.kvarh_lag.toFixed(2),o.kvarh_lead.toFixed(2),o.co2_emissions.toFixed(2)].join(","))].join(`
`),v=document.createElement("a");v.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(r)}`),v.setAttribute("download",`analisis-general-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(v),v.click(),document.body.removeChild(v)};return e.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-full",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Análisis General"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Análisis detallado de energía específico por dispositivo"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(P,{onClick:d,variant:"outline",className:"gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Exportar Datos"]})})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-primary"}),e.jsx(M,{children:"Filtros de Análisis"})]}),e.jsx(O,{children:"Configure sus parámetros de análisis y ajustes de visualización"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Selección de Dispositivo"}),e.jsxs(G,{value:s,onValueChange:t,children:[e.jsx(X,{children:e.jsx(U,{placeholder:"Seleccionar dispositivo"})}),e.jsx(Z,{children:i.map(u=>e.jsx(T,{value:u.id,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:u.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:u.location})]})},u.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Filtro de Turno"}),e.jsxs(G,{value:a,onValueChange:l,children:[e.jsx(X,{children:e.jsx(U,{placeholder:"Seleccionar turno"})}),e.jsx(Z,{children:g.map(u=>e.jsx(T,{value:u.id,children:u.name},u.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tipo de Gráfica"}),e.jsxs(G,{value:n,onValueChange:c,children:[e.jsx(X,{children:e.jsx(U,{placeholder:"Seleccionar tipo de gráfica"})}),e.jsx(Z,{children:f.map(u=>{const r=u.icon;return e.jsx(T,{value:u.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4"}),u.name]})},u.id)})})]})]})]}),x&&e.jsx("div",{className:"mt-4 p-4 bg-accent/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:x.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.location})]}),e.jsx(I,{variant:"secondary",className:"ml-auto",children:"Activo"})]})})]})]}),e.jsx(He,{data:m}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsx("div",{className:"xl:col-span-2 space-y-6",children:e.jsx(Ie,{data:m,graphType:n,deviceName:x?.name||"Dispositivo Desconocido",onGraphTypeChange:u=>c(u)})}),e.jsx("div",{className:"space-y-6",children:e.jsx(zr,{data:m[m.length-1]})})]}),e.jsx(Lr,{data:m,deviceName:x?.name||"Dispositivo Desconocido"})]})}function Y({className:s,type:t,...a}){return e.jsx("input",{type:t,"data-slot":"input",className:y("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...a})}function Oe({...s}){return e.jsx(lt,{"data-slot":"dialog",...s})}function Kr({...s}){return e.jsx(ut,{"data-slot":"dialog-portal",...s})}function Br({className:s,...t}){return e.jsx(ht,{"data-slot":"dialog-overlay",className:y("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function Le({className:s,children:t,...a}){return e.jsxs(Kr,{"data-slot":"dialog-portal",children:[e.jsx(Br,{}),e.jsxs(ct,{"data-slot":"dialog-content",className:y("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a,children:[t,e.jsxs(dt,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ue,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ve({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:y("flex flex-col gap-2 text-center sm:text-left",s),...t})}function Ke({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-footer",className:y("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function Be({className:s,...t}){return e.jsx(mt,{"data-slot":"dialog-title",className:y("text-lg leading-none font-semibold",s),...t})}function qe({className:s,...t}){return e.jsx(xt,{"data-slot":"dialog-description",className:y("text-muted-foreground text-sm",s),...t})}const qr=Ze("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ue({className:s,variant:t,...a}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:y(qr({variant:t}),s),...a})}function he({className:s,...t}){return e.jsx("div",{"data-slot":"alert-description",className:y("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}function Gr({showImportDialog:s,setShowImportDialog:t,importedFile:a,setImportedFile:l,importValidation:n,setImportValidation:c,importedData:i,setImportedData:g,showImportedDataPreview:f,setShowImportedDataPreview:m,showImportedInfo:x,setShowImportedInfo:d,showPreviewModal:u,setShowPreviewModal:r,pricePerKwh:v,setPricePerKwh:o,selectedGraphType:p="consumption",setSelectedGraphType:j}){const k=C=>{const z=C.target.files?.[0];if(!z)return;if(!["application/pdf","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(z.type)&&!z.name.endsWith(".csv")&&!z.name.endsWith(".xlsx")&&!z.name.endsWith(".pdf")){c({status:"error",message:"Formato de archivo no válido. Por favor seleccione un archivo PDF, CSV o XLSX."});return}l(z),_(z)},_=C=>{c({status:"validating",message:"Validando archivo..."}),setTimeout(()=>{if(C.name.endsWith(".pdf"))c({status:"success",message:"Archivo PDF cargado correctamente. Los datos serán procesados por SparkCheck AI."});else{const z=Math.random()>.7,W=Math.random()>.1;c(W?z?{status:"success",message:"Archivo validado correctamente.",warnings:['Se detectaron 12 registros con datos nulos en la columna "consumo kwh"',"Se detectaron 5 registros con timestamp inválido","Los registros con datos nulos serán omitidos durante el procesamiento"]}:{status:"success",message:"Archivo validado correctamente. Todos los datos son válidos y están completos.",warnings:[]}:{status:"error",message:'El archivo no contiene las columnas requeridas: "timestamp" y "consumo kwh".'})}},1500)},b=()=>{const C=Array.from({length:24},(z,W)=>({deviceId:"imported",timestamp:`${String(W).padStart(2,"0")}:00`,kvah:45+Math.random()*20,billing:(45+Math.random()*20)*v,kva:42+Math.random()*18,kw:38+Math.random()*15,kwh:35+Math.random()*25,pf:.85+Math.random()*.1,kvarh_lag:12+Math.random()*8,kvarh_lead:8+Math.random()*5,co2_emissions:(35+Math.random()*25)*.82}));g(C),m(!0),t(!1),c({status:"idle",message:""})},w=()=>{if(!i)return;const C=i,W=[["deviceId","timestamp","kvah","billing","kva","kw","kwh","pf","kvarh_lag","kvarh_lead","co2_emissions"].join(","),...C.map(D=>[D.deviceId,D.timestamp,D.kvah.toFixed(2),D.billing.toFixed(2),D.kva.toFixed(2),D.kw.toFixed(2),D.kwh.toFixed(2),D.pf.toFixed(3),D.kvarh_lag.toFixed(2),D.kvarh_lead.toFixed(2),D.co2_emissions.toFixed(2)].join(","))].join(`
`),K=document.createElement("a");K.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(W)}`),K.setAttribute("download",`analisis-importado-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(K),K.click(),document.body.removeChild(K)},R=i?(C=>{const z=C.reduce((H,Q)=>H+Q.kwh,0),W=C.reduce((H,Q)=>H+Q.kw,0)/C.length,K=Math.max(...C.map(H=>H.kw)),D=C.reduce((H,Q)=>H+Q.co2_emissions,0),q=C.reduce((H,Q)=>H+Q.pf,0)/C.length,oe=C.reduce((H,Q)=>H+Q.billing,0);return{totalKWh:z,avgKW:W,maxKW:K,totalCO2:D,avgPF:q,totalBilling:oe}})(i):null,L=()=>{t(!1),l(null),c({status:"idle",message:""})};return e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(me,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx(M,{children:"Análisis Importado"}),e.jsx(O,{children:"Importa datos de energía desde archivos CSV, XLSX o PDF"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(P,{onClick:()=>t(!0),className:"gap-2 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700",children:[e.jsx(ys,{className:"w-4 h-4"}),"Importar"]}),i&&e.jsxs(P,{onClick:w,variant:"outline",className:"gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Exportar"]})]})]})}),a&&e.jsx(A,{className:"pb-4",children:e.jsx("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium truncate",children:a.name}),i&&e.jsx(I,{className:"bg-green-500",children:"✓ Importado"})]})})}),i&&f&&R&&e.jsx(e.Fragment,{children:e.jsx(A,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(S,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"Consumo Total"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:R.totalKWh.toFixed(1)}),e.jsx("p",{className:"text-xs text-blue-600",children:"kWh"})]})})}),e.jsx(S,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Promedio kW"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:R.avgKW.toFixed(2)}),e.jsx("p",{className:"text-xs text-green-600",children:"kW"})]})})}),e.jsx(S,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-purple-700 mb-1",children:"Costo Total"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["$",R.totalBilling.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-purple-600",children:["@ $",v,"/kWh"]})]})})})]})})}),i&&e.jsxs(A,{className:"space-y-4",children:[e.jsx(Ie,{data:i,graphType:p,deviceName:a?.name.split(".")[0]||"Datos Importados",onGraphTypeChange:C=>j&&j(C)}),e.jsx(He,{data:i})]}),e.jsx(Oe,{open:s,onOpenChange:t,children:e.jsxs(Le,{className:"sm:max-w-[425px]",children:[e.jsxs(Ve,{children:[e.jsx(Be,{children:"Importar Datos de Análisis"}),e.jsx(qe,{children:"Importe un archivo CSV, XLSX o PDF e ingrese el precio por kWh consumido."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Precio por kWh (en decimales)"}),e.jsx(Y,{type:"number",min:"0.01",step:"0.01",value:v,onChange:C=>{let z=parseFloat(C.target.value);(isNaN(z)||z<=0)&&(z=.01),o(z)},placeholder:"Ej: 8.50",className:"text-sm"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Valor actual: $",v.toFixed(2),"/kWh"]})]}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-10 h-10 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 5.5a5.5 5.5 0 0 0-11 0 3.5 3.5 0 0 0 0 7h2.5m0-3v3m0 0v3m6-3h3v3m-3 0h3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Haga clic para subir"})," o arrastre y suelte"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"CSV, XLSX o PDF (MAX. 800KB)"})]}),e.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",onChange:k})]})}),a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.name})]}),n.status==="validating"&&e.jsxs(ue,{children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx(he,{children:n.message})]}),n.status==="error"&&e.jsxs(ue,{variant:"destructive",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx(he,{children:n.message})]}),n.status==="success"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-green-800 font-medium",children:n.message}),n.warnings&&n.warnings.length>0&&e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Advertencias:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:n.warnings.map((C,z)=>e.jsx("li",{className:"text-xs text-yellow-700",children:C},z))})]})]})]})})]}),e.jsxs(Ke,{children:[e.jsx(P,{type:"button",onClick:L,className:"bg-gray-500 hover:bg-gray-600",children:"Cancelar"}),e.jsx(P,{type:"button",onClick:b,disabled:n.status!=="success"||!a,children:"Importar"})]})]})}),e.jsx(Oe,{open:u,onOpenChange:r,children:e.jsxs(Le,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ve,{children:[e.jsx(Be,{children:"Previsualización de Datos Importados"}),e.jsx(qe,{children:"Gráficos y análisis de los datos importados."})]}),e.jsx("div",{className:"space-y-4",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{data:i,graphType:p,deviceName:a?.name.split(".")[0]||"Datos Importados",onGraphTypeChange:C=>j&&j(C)}),e.jsx(He,{data:i})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay datos importados para previsualizar."})}),e.jsx(Ke,{children:e.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Cerrar"})})]})})]})}function Ur(){const[s,t]=h.useState(!1),[a,l]=h.useState(null),[n,c]=h.useState({status:"idle",message:""}),[i,g]=h.useState(null),[f,m]=h.useState(!1),[x,d]=h.useState(!0),[u,r]=h.useState(!1),[v,o]=h.useState(8.5),[p,j]=h.useState("consumption");return e.jsx("div",{className:"p-6 bg-background min-h-full",children:e.jsx(Gr,{showImportDialog:s,setShowImportDialog:t,importedFile:a,setImportedFile:l,importValidation:n,setImportValidation:c,importedData:i,setImportedData:g,showImportedDataPreview:f,setShowImportedDataPreview:m,showImportedInfo:x,setShowImportedInfo:d,showPreviewModal:u,setShowPreviewModal:r,pricePerKwh:v,setPricePerKwh:o,selectedGraphType:p,setSelectedGraphType:j})})}var Xr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zr=Xr.reduce((s,t)=>{const a=Xe(`Primitive.${t}`),l=h.forwardRef((n,c)=>{const{asChild:i,...g}=n,f=i?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...g,ref:c})});return l.displayName=`Primitive.${t}`,{...s,[t]:l}},{}),Yr="Label",Rs=h.forwardRef((s,t)=>e.jsx(Zr.label,{...s,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(s.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Rs.displayName=Yr;var Jr=Rs;function V({className:s,...t}){return e.jsx(Jr,{"data-slot":"label",className:y("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}var De="Switch",[Qr]=ps(De),[en,sn]=Qr(De),zs=h.forwardRef((s,t)=>{const{__scopeSwitch:a,name:l,checked:n,defaultChecked:c,required:i,disabled:g,value:f="on",onCheckedChange:m,form:x,...d}=s,[u,r]=h.useState(null),v=Ce(t,_=>r(_)),o=h.useRef(!1),p=u?x||!!u.closest("form"):!0,[j,k]=xs({prop:n,defaultProp:c??!1,onChange:m,caller:De});return e.jsxs(en,{scope:a,checked:j,disabled:g,children:[e.jsx(pe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":i,"data-state":Is(j),"data-disabled":g?"":void 0,disabled:g,value:f,...d,ref:v,onClick:Re(s.onClick,_=>{k(b=>!b),p&&(o.current=_.isPropagationStopped(),o.current||_.stopPropagation())})}),p&&e.jsx($s,{control:u,bubbles:!o.current,name:l,value:f,checked:j,required:i,disabled:g,form:x,style:{transform:"translateX(-100%)"}})]})});zs.displayName=De;var Ws="SwitchThumb",Ts=h.forwardRef((s,t)=>{const{__scopeSwitch:a,...l}=s,n=sn(Ws,a);return e.jsx(pe.span,{"data-state":Is(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:t})});Ts.displayName=Ws;var tn="SwitchBubbleInput",$s=h.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:l=!0,...n},c)=>{const i=h.useRef(null),g=Ce(i,c),f=us(a),m=hs(t);return h.useEffect(()=>{const x=i.current;if(!x)return;const d=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(d,"checked").set;if(f!==a&&r){const v=new Event("click",{bubbles:l});r.call(x,a),x.dispatchEvent(v)}},[f,a,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:g,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$s.displayName=tn;function Is(s){return s?"checked":"unchecked"}var an=zs,rn=Ts;function _e({className:s,...t}){return e.jsx(an,{"data-slot":"switch",className:y("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(rn,{"data-slot":"switch-thumb",className:y("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function nn({...s}){return e.jsx(pt,{"data-slot":"accordion",...s})}function ls({className:s,...t}){return e.jsx(gt,{"data-slot":"accordion-item",className:y("border-b last:border-b-0",s),...t})}function cs({className:s,children:t,...a}){return e.jsx(ft,{className:"flex",children:e.jsxs(vt,{"data-slot":"accordion-trigger",className:y("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",s),...a,children:[t,e.jsx(Se,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function ds({className:s,children:t,...a}){return e.jsx(jt,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...a,children:e.jsx("div",{className:y("pt-0 pb-4",s),children:t})})}function on(){const[s,t]=h.useState("USD"),[a,l]=h.useState("es"),[n,c]=h.useState(!0),[i,g]=h.useState(!0),[f,m]=h.useState(!1),x={active:[{id:"dev-001",name:"Panel de Energía Principal A",location:"Edificio A - Piso 1",power:"2.4 kW"},{id:"dev-002",name:"Unidad de Control HVAC",location:"Edificio A - Piso 2",power:"4.5 kW"},{id:"dev-003",name:"Línea de Manufactura 1",location:"Piso de Producción",power:"8.2 kW"},{id:"dev-004",name:"Circuito de Iluminación B",location:"Edificio B - Todos los Pisos",power:"1.2 kW"},{id:"dev-005",name:"UPS Sala de Servidores",location:"Centro de Datos",power:"3.8 kW"},{id:"dev-006",name:"Sistema de Seguridad",location:"Perímetro",power:"0.8 kW"},{id:"dev-007",name:"Bomba de Agua Principal",location:"Planta Baja",power:"5.5 kW"},{id:"dev-008",name:"Elevadores Torre A",location:"Edificio A",power:"12.3 kW"},{id:"dev-009",name:"Compresores Industriales",location:"Zona Industrial",power:"15.7 kW"},{id:"dev-010",name:"Sistema de Ventilación",location:"Edificio B",power:"2.9 kW"},{id:"dev-011",name:"Equipo de Climatización",location:"Sala de Juntas",power:"1.6 kW"},{id:"dev-012",name:"Generador de Respaldo",location:"Área de Servicios",power:"25.0 kW"}],standby:[{id:"dev-013",name:"Panel Auxiliar C",location:"Edificio C - Piso 3",power:"0 kW"},{id:"dev-014",name:"Sistema HVAC Secundario",location:"Edificio B - Piso 4",power:"0 kW"},{id:"dev-015",name:"Iluminación de Emergencia",location:"Todos los Edificios",power:"0 kW"},{id:"dev-016",name:"Bomba Auxiliar",location:"Sótano",power:"0 kW"},{id:"dev-017",name:"Transformador Backup",location:"Subestación",power:"0 kW"},{id:"dev-018",name:"Equipo de Reserva HVAC",location:"Torre B",power:"0 kW"},{id:"dev-019",name:"Panel Solar (Nocturno)",location:"Azotea",power:"0 kW"},{id:"dev-020",name:"Sistema de Riego",location:"Jardines",power:"0 kW"}]},d=()=>{console.log("Configuración guardada")};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Configuración"}),e.jsx("p",{className:"text-muted-foreground",children:"Configuración del sistema y gestión de dispositivos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),"Configuración Regional"]}),e.jsx(O,{children:"Moneda, idioma y preferencias regionales"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:"currency",className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-600"}),"Tipo de Moneda"]}),e.jsxs(G,{value:s,onValueChange:t,children:[e.jsx(X,{id:"currency",children:e.jsx(U,{})}),e.jsxs(Z,{children:[e.jsx(T,{value:"USD",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"USD"}),e.jsx("span",{className:"text-muted-foreground",children:"- Dólar Estadounidense ($)"})]})}),e.jsx(T,{value:"EUR",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"EUR"}),e.jsx("span",{className:"text-muted-foreground",children:"- Euro (€)"})]})}),e.jsx(T,{value:"MXN",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"MXN"}),e.jsx("span",{className:"text-muted-foreground",children:"- Peso Mexicano ($)"})]})}),e.jsx(T,{value:"COP",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"COP"}),e.jsx("span",{className:"text-muted-foreground",children:"- Peso Colombiano ($)"})]})}),e.jsx(T,{value:"ARS",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"ARS"}),e.jsx("span",{className:"text-muted-foreground",children:"- Peso Argentino ($)"})]})}),e.jsx(T,{value:"BRL",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"BRL"}),e.jsx("span",{className:"text-muted-foreground",children:"- Real Brasileño (R$)"})]})}),e.jsx(T,{value:"GBP",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"GBP"}),e.jsx("span",{className:"text-muted-foreground",children:"- Libra Esterlina (£)"})]})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Esta moneda se utilizará para mostrar costos y reportes financieros"})]}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:"language",className:"flex items-center gap-2",children:[e.jsx(va,{className:"w-4 h-4 text-blue-600"}),"Idioma del Sistema"]}),e.jsxs(G,{value:a,onValueChange:l,children:[e.jsx(X,{id:"language",children:e.jsx(U,{})}),e.jsxs(Z,{children:[e.jsx(T,{value:"es",children:"Español"}),e.jsx(T,{value:"en",children:"English"}),e.jsx(T,{value:"pt",children:"Português"}),e.jsx(T,{value:"fr",children:"Français"})]})]})]})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5"}),"Preferencias del Sistema"]}),e.jsx(O,{children:"Configuración de notificaciones y visualización"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"w-4 h-4 text-yellow-600"}),"Notificaciones"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recibir alertas de energía y sistema"})]}),e.jsx(_e,{checked:n,onCheckedChange:c})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4 text-green-600"}),"Actualización Automática"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Actualizar datos en tiempo real"})]}),e.jsx(_e,{checked:i,onCheckedChange:g})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-purple-600"}),"Modo Oscuro"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Activar tema oscuro (próximamente)"})]}),e.jsx(_e,{checked:f,onCheckedChange:m,disabled:!0})]})]})]}),e.jsxs(S,{className:"border-2 lg:col-span-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-yellow-500"}),"Gestión de Dispositivos"]}),e.jsx(O,{children:"Configuración y control de dispositivos conectados organizados por estado"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-700",children:x.active.length}),e.jsx("p",{className:"text-sm text-green-600",children:"Dispositivos Activos"})]})]})}),e.jsx("div",{className:"p-4 bg-gray-50 border-2 border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:x.standby.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"En Espera"})]})]})}),e.jsx("div",{className:"p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ra,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:x.active.length+x.standby.length}),e.jsx("p",{className:"text-sm text-blue-600",children:"Total Registrados"})]})]})})]}),e.jsxs(nn,{type:"multiple",className:"w-full",children:[e.jsxs(ls,{value:"active",className:"border-2 border-green-200 rounded-lg mb-4 px-4",children:[e.jsx(cs,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-green-900",children:"Dispositivos Activos"}),e.jsxs("p",{className:"text-sm text-green-700",children:[x.active.length," dispositivos en funcionamiento"]})]})]})}),e.jsx(ds,{children:e.jsx("div",{className:"space-y-2 pt-2",children:x.active.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:u.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:u.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:u.power}),e.jsx(I,{className:"bg-green-100 text-green-700",children:"Activo"})]})]},u.id))})})]}),e.jsxs(ls,{value:"standby",className:"border-2 border-gray-200 rounded-lg px-4",children:[e.jsx(cs,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center",children:e.jsx(ts,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Dispositivos en Espera"}),e.jsxs("p",{className:"text-sm text-gray-700",children:[x.standby.length," dispositivos en modo standby"]})]})]})}),e.jsx(ds,{children:e.jsx("div",{className:"space-y-2 pt-2",children:x.standby.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:u.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:u.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"bg-gray-100 text-gray-600 border-gray-300",children:u.power}),e.jsx(I,{variant:"secondary",className:"bg-gray-200 text-gray-700",children:"Espera"})]})]},u.id))})})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(P,{onClick:d,size:"lg",className:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700",children:[e.jsx($a,{className:"w-5 h-5 mr-2"}),"Guardar Configuración"]})})]})}function ln(){const[s,t]=h.useState(!1),[a,l]=h.useState(!1),[n,c]=h.useState("monthly"),i=h.useRef(null),g={totalConsumption:24567.8,averageConsumption:1023.7,peakDemand:2847.3,totalCost:3247.89,activeDevices:12,alerts:3,period:"Enero 2026",generatedDate:new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),devices:[{name:"Sistema HVAC Principal",consumption:8234.5,status:"Activo"},{name:"Iluminación LED Torre A",consumption:3421.2,status:"Activo"},{name:"Servidores Data Center",consumption:5678.9,status:"Activo"},{name:"Equipos de Oficina",consumption:2345.6,status:"Activo"},{name:"Sistema de Seguridad",consumption:1234.5,status:"Activo"}],hourlyData:[{hour:"00:00",consumption:456.2},{hour:"06:00",consumption:678.5},{hour:"12:00",consumption:1234.8},{hour:"18:00",consumption:2145.3},{hour:"23:00",consumption:789.4}]},f={totalConsumption:294813.6,averageConsumption:24567.8,peakDemand:3456.7,totalCost:38976.54,activeDevices:12,alerts:28,period:"Año 2025",generatedDate:new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),devices:[{name:"Sistema HVAC Principal",consumption:98814,status:"Activo"},{name:"Iluminación LED Torre A",consumption:41054.4,status:"Activo"},{name:"Servidores Data Center",consumption:68146.8,status:"Activo"},{name:"Equipos de Oficina",consumption:28147.2,status:"Activo"},{name:"Sistema de Seguridad",consumption:14814,status:"Activo"}],hourlyData:[{hour:"Enero",consumption:24567.8},{hour:"Febrero",consumption:22145.3},{hour:"Marzo",consumption:25678.9},{hour:"Abril",consumption:23456.1},{hour:"Mayo",consumption:24789.5},{hour:"Junio",consumption:26543.2},{hour:"Julio",consumption:28234.7},{hour:"Agosto",consumption:27891.4},{hour:"Septiembre",consumption:25432.8},{hour:"Octubre",consumption:24123.6},{hour:"Noviembre",consumption:23567.2},{hour:"Diciembre",consumption:24383.1}]},m=n==="monthly"?g:f,x=u=>{c(u),t(!0)},d=async()=>{l(!0);try{const u=(await Dt(async()=>{const{jsPDF:D}=await import("./pdf-export-DazCCdzZ.js").then(q=>q.j);return{jsPDF:D}},[])).jsPDF,r=new u({orientation:"portrait",unit:"mm",format:"a4"}),v=r.internal.pageSize.getWidth();let o=15;const p=12,j=v-2*p,k=7;r.setFont("Helvetica","bold"),r.setFontSize(18),r.text("REPORTE DE CONSUMO ENERGÉTICO",p,o),o+=10,r.setFont("Helvetica","normal"),r.setFontSize(10),r.text(`Período: ${m.period}`,p,o),o+=6,r.text(`Generado: ${m.generatedDate}`,p,o),o+=6,r.text(`Tipo: Reporte ${n==="annual"?"Anual":"Mensual"}`,p,o),o+=10,r.setDrawColor(200,200,200),r.line(p,o,v-p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text("RESUMEN DE MÉTRICAS",p,o),o+=8,r.setFont("Helvetica","normal"),r.setFontSize(9),[["Consumo Total",`${m.totalConsumption.toLocaleString()} kWh`],["Consumo Promedio",`${m.averageConsumption.toLocaleString()} kWh/${n==="annual"?"mes":"día"}`],["Demanda Pico",`${m.peakDemand.toLocaleString()} kW`],["Costo Total",`$${m.totalCost.toLocaleString()}`],["Dispositivos Activos",`${m.activeDevices}`],["Alertas",`${m.alerts}`]].forEach((D,q)=>{q%2===0&&(r.setFillColor(245,245,245),r.rect(p,o-5,j,k+1,"F")),r.setFont("Helvetica","bold"),r.text(D[0],p+2,o),r.setFont("Helvetica","normal"),r.text(D[1],p+80,o),o+=7}),o+=6,r.setDrawColor(200,200,200),r.line(p,o,v-p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text("CONSUMO POR DISPOSITIVO",p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(9),r.setFillColor(50,50,100),r.setTextColor(255,255,255);const b=p,w=p+85,E=p+115,R=p+140,L=o;r.rect(b,L-5,j,6,"F"),r.text("Dispositivo",b+2,L),r.text("Consumo (kWh)",w,L),r.text("% Total",E,L),r.text("Estado",R,L),o+=7,r.setTextColor(0,0,0),r.setFont("Helvetica","normal"),m.devices.forEach((D,q)=>{const oe=(D.consumption/m.totalConsumption*100).toFixed(1);q%2===0&&(r.setFillColor(240,240,240),r.rect(b,o-5,j,6,"F"));const H=D.name.length>35?D.name.substring(0,32)+"...":D.name;r.text(H,b+1,o),r.text(D.consumption.toLocaleString(),w,o),r.text(`${oe}%`,E,o),r.text(D.status,R,o),o+=6,o>250&&(r.addPage(),o=15)}),o+=8,o>240&&(r.addPage(),o=15),r.setDrawColor(200,200,200),r.line(p,o,v-p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text(`PATRÓN DE CONSUMO ${n==="annual"?"MENSUAL":"HORARIO"}`,p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(9),r.setFillColor(50,50,100),r.setTextColor(255,255,255);const C=o;r.rect(p,C-5,j,6,"F"),r.text("Período",p+2,C),r.text("Consumo (kW)",p+70,C),o+=7,r.setTextColor(0,0,0),r.setFont("Helvetica","normal");const z=Math.max(...m.hourlyData.map(D=>D.consumption));m.hourlyData.forEach((D,q)=>{q%2===0&&(r.setFillColor(240,240,240),r.rect(p,o-5,j,6,"F"));const H=(D.consumption/z*100).toFixed(0)*.8;r.text(D.hour,p+2,o),r.text(D.consumption.toLocaleString(),p+70,o),r.setDrawColor(200,200,200),r.rect(p+100,o-4,40,4),r.setFillColor(220,184,80),r.rect(p+100,o-4,H/2.5,4,"F"),o+=6,o>250&&(r.addPage(),o=15)}),o+=8,o>240&&(r.addPage(),o=15),r.setDrawColor(200,200,200),r.line(p,o,v-p,o),o+=8,r.setFont("Helvetica","bold"),r.setFontSize(12),r.text("RECOMENDACIONES DE SPARKCHECK",p,o),o+=8,r.setFont("Helvetica","normal"),r.setFontSize(9),(n==="annual"?["Comparar tendencias anuales: pico en julio y agosto, oportunidad de optimización en diciembre","Implementar sistemas de control automatizado para mantener consumo en niveles bajos en meses de baja ocupación","Considerar energías renovables - potencial de ahorro anual del 20-25% con instalación de paneles solares","Revisar factores de potencia mensualmente para optimizar costo de facturación reactiva"]:["Considerar ajustar horarios de equipos HVAC para evitar picos de 14:00-18:00","Oportunidad de ahorro del 15% optimizando iluminación en horarios de baja ocupación","Evaluar eficiencia de servidores - consumo 12% sobre promedio esperado"]).forEach((D,q)=>{r.splitTextToSize(`${q+1}. ${D}`,j-4).forEach(H=>{r.text(H,p+2,o),o+=5,o>270&&(r.addPage(),o=15)}),o+=2}),o=r.internal.pageSize.getHeight()-10,r.setFontSize(8),r.setTextColor(150,150,150),r.text("SparkCheck Energy Management System | Reporte generado automáticamente",v/2,o,{align:"center"});const K=n==="monthly"?`reporte-mensual-${new Date().toISOString().split("T")[0]}.pdf`:`reporte-anual-${new Date().getFullYear()}.pdf`;r.save(K)}catch(u){console.error("Error generando PDF:",u)}finally{l(!1),t(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Reportes"}),e.jsx("p",{className:"text-muted-foreground",children:"Genera y exporta reportes detallados de consumo energético"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx($,{className:"w-5 h-5"}),"Consumo Total"]})}),e.jsxs(A,{children:[e.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:[g.totalConsumption.toLocaleString()," kWh"]}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:g.period})]})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-blue-900",children:[e.jsx(B,{className:"w-5 h-5"}),"Demanda Pico"]})}),e.jsxs(A,{children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:[g.peakDemand.toLocaleString()," kW"]}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Máximo registrado"})]})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-green-50 to-green-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-green-900",children:[e.jsx(Ne,{className:"w-5 h-5"}),"Costo Total"]})}),e.jsxs(A,{children:[e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",g.totalCost.toLocaleString()]}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"USD este período"})]})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Generar Reporte"]}),e.jsx(O,{children:"Crea reportes personalizados con todas las estadísticas"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border-2 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ze,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold",children:"Reporte Mensual"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Incluye análisis detallado de consumo, costos, patrones horarios y recomendaciones"}),e.jsxs(P,{onClick:()=>x("monthly"),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Previsualizar y Descargar"]})]}),e.jsxs("div",{className:"p-4 border-2 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(B,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold",children:"Reporte Anual"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Análisis comparativo anual con tendencias y proyecciones"}),e.jsxs(P,{onClick:()=>x("annual"),className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Previsualizar y Descargar"]})]})]}),e.jsx(te,{}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(we,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Información del Reporte"}),e.jsx("p",{children:"El reporte incluirá todos los datos del período seleccionado, gráficas de consumo, análisis de dispositivos y recomendaciones de optimización."})]})]})})]})]}),e.jsx(Oe,{open:s,onOpenChange:t,children:e.jsxs(Le,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ve,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-6 h-6"}),"Previsualización del Reporte ",n==="annual"?"Anual":"Mensual"]}),e.jsx(qe,{children:"Revisa los datos antes de descargar el PDF"})]}),e.jsxs("div",{ref:i,className:"space-y-6 py-4 bg-white p-8",children:[e.jsxs("div",{className:"text-center pb-4 border-b",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Reporte de Consumo Energético ",n==="annual"?"Anual":"Mensual"]}),e.jsx("p",{className:"text-muted-foreground text-lg font-semibold",children:m.period}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Generado: ",m.generatedDate]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{className:"w-4 h-4 text-yellow-600"}),e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Consumo Total"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:m.totalConsumption.toLocaleString()}),e.jsx("p",{className:"text-xs text-yellow-700",children:"kWh"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(se,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Promedio"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:m.averageConsumption.toLocaleString()}),e.jsx("p",{className:"text-xs text-blue-700",children:n==="annual"?"kWh/mes":"kWh/día"})]}),e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Pico"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:m.peakDemand.toLocaleString()}),e.jsx("p",{className:"text-xs text-red-700",children:"kW"})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Costo Total"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",m.totalCost.toLocaleString()]}),e.jsx("p",{className:"text-xs text-green-700",children:"USD"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"w-4 h-4 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Dispositivos"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:m.activeDevices}),e.jsx("p",{className:"text-xs text-purple-700",children:"Activos"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(we,{className:"w-4 h-4 text-orange-600"}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Alertas"})]}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:m.alerts}),e.jsx("p",{className:"text-xs text-orange-700",children:n==="annual"?"Este año":"Este período"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[e.jsx($,{className:"w-5 h-5 text-yellow-600"}),"Consumo por Dispositivo"]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Dispositivo"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"Consumo (kWh)"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"% del Total"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Estado"})]})}),e.jsx("tbody",{className:"divide-y",children:m.devices.map((u,r)=>{const v=(u.consumption/m.totalConsumption*100).toFixed(1);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:u.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:u.consumption.toLocaleString()}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:[v,"%"]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx(I,{variant:"secondary",className:"bg-green-100 text-green-700",children:u.status})})]},r)})})]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[e.jsx(se,{className:"w-5 h-5 text-blue-600"}),"Patrón de Consumo ",n==="annual"?"Mensual":"Horario"]}),e.jsx("div",{className:"space-y-3",children:m.hourlyData.map((u,r)=>{const v=Math.max(...m.hourlyData.map(p=>p.consumption)),o=u.consumption/v*100;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium w-24 text-right",children:u.hour}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-8 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 h-full flex items-center justify-end pr-3 transition-all",style:{width:`${o}%`},children:e.jsxs("span",{className:"text-xs font-bold text-white",children:[u.consumption.toLocaleString()," kW"]})})})]},r)})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2 text-blue-900 text-lg",children:[e.jsx(ee,{className:"w-5 h-5"}),"Recomendaciones de SparkCheck"]}),e.jsx("ul",{className:"space-y-2 text-sm text-blue-800",children:n==="annual"?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Comparar tendencias anuales: pico en julio y agosto, oportunidad de optimización en diciembre"}),e.jsx("li",{children:"• Implementar sistemas de control automatizado para mantener consumo en niveles bajos en meses de baja ocupación"}),e.jsx("li",{children:"• Considerar energías renovables - potencial de ahorro anual del 20-25% con instalación de paneles solares"}),e.jsx("li",{children:"• Revisar factores de potencia mensualmente para optimizar costo de facturación reactiva"})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Considerar ajustar horarios de equipos HVAC para evitar picos de 14:00-18:00"}),e.jsx("li",{children:"• Oportunidad de ahorro del 15% optimizando iluminación en horarios de baja ocupación"}),e.jsx("li",{children:"• Evaluar eficiencia de servidores - consumo 12% sobre promedio esperado"})]})})]}),e.jsxs("div",{className:"border-t pt-4 text-xs text-muted-foreground text-center",children:[e.jsx("p",{children:"Este reporte fue generado automáticamente por SparkCheck Energy Management System"}),e.jsx("p",{children:"Para soporte, contacte a su administrador de energía"})]})]}),e.jsxs(Ke,{className:"gap-2",children:[e.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),e.jsx(P,{onClick:d,disabled:a,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:a?e.jsxs(e.Fragment,{children:[e.jsx(ma,{className:"w-4 h-4 mr-2 animate-bounce"}),"Generando PDF..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]})})]})]})})]})}function cn(){const[s,t]=h.useState(!1),[a,l]=h.useState(!1),[n,c]=h.useState({name:"Liam Gallagher",email:"liam.gallagher@controlems.com",password:"••••••••",userType:"Administrador del Sistema",activeDevices:12,standbyDevices:8,totalDevices:20}),i=()=>{l(!1)},g=()=>{l(!1)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Ajustes y Perfil"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu información personal y preferencias del sistema"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5"}),"Perfil de Usuario"]}),e.jsx(O,{children:"Información principal de tu cuenta"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-semibold text-3xl",children:"LG"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:n.name}),e.jsxs(I,{variant:"secondary",className:"mt-1",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),n.userType]})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-yellow-500"}),"Estado de Dispositivos"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Activos"})]}),e.jsx("span",{className:"font-semibold text-green-700",children:n.activeDevices})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"En Espera"})]}),e.jsx("span",{className:"font-semibold text-gray-700",children:n.standbyDevices})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Total"})]}),e.jsx("span",{className:"font-semibold text-blue-700",children:n.totalDevices})]})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-semibold text-blue-900",children:"SparkCheck"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Tu asistente de inteligencia artificial para análisis energético"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(S,{className:"border-2",children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),"Información de la Cuenta"]}),e.jsx(O,{children:"Actualiza tus datos personales y de acceso"})]}),a?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(P,{onClick:i,size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Guardar"]}),e.jsxs(P,{onClick:g,variant:"outline",size:"sm",children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):e.jsxs(P,{onClick:()=>l(!0),variant:"outline",size:"sm",children:[e.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Editar"]})]})}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4"}),"Nombre Completo"]}),e.jsx(Y,{id:"name",value:n.name,onChange:f=>c({...n,name:f.target.value}),disabled:!a,className:"disabled:opacity-60"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4"}),"Correo Electrónico"]}),e.jsx(Y,{id:"email",type:"email",value:n.email,onChange:f=>c({...n,email:f.target.value}),disabled:!a,className:"disabled:opacity-60"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"w-4 h-4"}),"Contraseña"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{id:"password",type:s?"text":"password",value:n.password,onChange:f=>c({...n,password:f.target.value}),disabled:!a,className:"disabled:opacity-60 pr-10"}),e.jsx("button",{type:"button",onClick:()=>t(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?e.jsx(la,{className:"w-4 h-4"}):e.jsx(We,{className:"w-4 h-4"})})]}),a&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Deja el campo vacío si no deseas cambiar la contraseña"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{htmlFor:"userType",className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4"}),"Tipo de Usuario"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{id:"userType",value:n.userType,disabled:!0,className:"flex-1"}),e.jsx(I,{variant:"secondary",className:"px-3 py-1",children:"No Editable"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Solo un super administrador puede cambiar el tipo de usuario"})]}),a&&e.jsx("div",{className:"pt-4 border-t",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Importante"}),e.jsx("p",{children:"Los cambios en tu información personal serán efectivos inmediatamente después de guardar."})]})]})})})]})]})})]})]})}function dn({className:s,...t}){return e.jsx("textarea",{"data-slot":"textarea",className:y("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}function mn(){const[s,t]=h.useState([]),[a,l]=h.useState(!1),n=h.useRef(null),[c,i]=h.useState(""),[g,f]=h.useState([]),[m,x]=h.useState(!1),d=j=>{if(!j)return;const k=Array.from(j).map(_=>({name:_.name,size:_.size}));t(_=>[..._,...k])},u=j=>{j.preventDefault(),l(!0)},r=()=>{l(!1)},v=j=>{j.preventDefault(),l(!1),d(j.dataTransfer.files)},o=j=>{t(k=>k.filter((_,b)=>b!==j))},p=()=>{c.trim()&&(x(!0),setTimeout(()=>{const j=[`Basándome en el análisis de "${c}", he detectado:
        
• **Picos de consumo**: Se observan picos de voltaje entre 14:00-18:00 horas con variaciones de hasta ±15V.
• **Fugas identificadas**: Detectadas 3 fugas potenciales en el circuito principal, representando aproximadamente 8% de pérdida energética.
• **Recomendaciones**:
  1. Instalar reguladores de voltaje en las líneas principales
  2. Revisar conexiones en paneles secundarios
  3. Programar mantenimiento preventivo para las próximas 2 semanas
  
**Ahorro estimado**: Implementando estas mejoras, se estima una reducción del 12-15% en el consumo mensual.`,`Análisis completado para: "${c}"

**Fugas de Energía Detectadas:**
• Fuga tipo A - Circuito Iluminación: 245 kWh/mes (Severidad: Media)
• Fuga tipo B - Sistema HVAC: 567 kWh/mes (Severidad: Alta)

**Picos de Voltaje:**
• Horario 08:00-09:00: Variación de +18V (supera límite seguro)
• Horario 18:00-19:00: Variación de +22V (requiere atención inmediata)

**Soluciones Propuestas:**
1. Instalar estabilizadores en puntos críticos
2. Redistribuir cargas en horas pico
3. Actualizar cableado en zona de oficinas (sección B)`];f(k=>[...k,{prompt:c,response:j[Math.floor(Math.random()*j.length)]}]),i(""),x(!1)},2e3))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(ye,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl mb-1 flex items-center gap-2",children:["SparkCheck",e.jsxs(I,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[e.jsx(Pe,{className:"w-3 h-3 mr-1"}),"IA"]})]}),e.jsx("p",{className:"text-muted-foreground",children:"Asistente de Inteligencia Artificial para Análisis Energético"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-blue-600"}),"Consulta a SparkCheck IA"]}),e.jsx(O,{children:"Pregunte sobre análisis de fugas, picos de voltaje, optimización energética y más"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx(dn,{placeholder:"Ejemplo: 'Analiza las fugas de energía en el sistema principal' o 'Identifica los picos de voltaje en las últimas 24 horas'...",value:c,onChange:j=>i(j.target.value),className:"min-h-[120px] resize-none"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:s.length>0&&`${s.length} archivo(s) adjunto(s)`}),e.jsx(P,{onClick:p,disabled:!c.trim()||m,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Sa,{className:"w-4 h-4 mr-2 animate-spin"}),"Analizando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Analizar"]})})]})]})]}),g.length>0&&e.jsxs(S,{className:"border-2",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-600"}),"Análisis Completados"]})}),e.jsx(A,{className:"space-y-4",children:g.map((j,k)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tu consulta:"}),e.jsx("p",{className:"text-sm text-gray-600 italic",children:j.prompt})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4"}),"Respuesta de SparkCheck IA:"]}),e.jsx("div",{className:"text-sm text-blue-800 whitespace-pre-line",children:j.response})]}),k<g.length-1&&e.jsx("div",{className:"border-t my-4"})]},k))})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(B,{className:"w-5 h-5"}),"Consultas Sugeridas"]})}),e.jsxs(A,{className:"space-y-2",children:[e.jsxs(P,{variant:"outline",className:"w-full justify-start text-left h-auto py-3 px-4 bg-white hover:bg-yellow-50",onClick:()=>i("Analiza las fugas de energía en el sistema principal"),children:[e.jsx(we,{className:"w-4 h-4 mr-2 text-yellow-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Analiza las fugas de energía en el sistema principal"})]}),e.jsxs(P,{variant:"outline",className:"w-full justify-start text-left h-auto py-3 px-4 bg-white hover:bg-yellow-50",onClick:()=>i("Identifica picos de voltaje en las últimas 24 horas"),children:[e.jsx($,{className:"w-4 h-4 mr-2 text-yellow-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Identifica picos de voltaje en las últimas 24 horas"})]}),e.jsxs(P,{variant:"outline",className:"w-full justify-start text-left h-auto py-3 px-4 bg-white hover:bg-yellow-50",onClick:()=>i("Proporciona recomendaciones para optimizar el consumo energético"),children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Proporciona recomendaciones para optimizar el consumo"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"border-2",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-sm",children:[e.jsx(ys,{className:"w-4 h-4"}),"Archivos Adjuntos"]})}),e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-all cursor-pointer ${a?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,onDragOver:u,onDragLeave:r,onDrop:v,onClick:()=>n.current?.click(),children:[e.jsx(J,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xs font-medium mb-1",children:"Arrastra archivos aquí"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"o haz clic para seleccionar"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PDF (MAX. 10MB)"})]}),e.jsx("input",{ref:n,type:"file",accept:".pdf",multiple:!0,className:"hidden",onChange:j=>d(j.target.files)}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Archivos subidos:"}),s.map((j,k)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded",children:[e.jsx(J,{className:"w-3 h-3 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs flex-1 truncate",children:j.name}),e.jsx(P,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>o(k),children:e.jsx(ea,{className:"w-3 h-3"})})]},k))]})]})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-blue-900 text-sm",children:[e.jsx($,{className:"w-4 h-4"}),"Capacidades de SparkCheck"]})}),e.jsxs(A,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Detección de Fugas"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Identifica pérdidas energéticas"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Análisis de Picos"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Monitorea variaciones de voltaje"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Optimización"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Recomendaciones personalizadas"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Análisis Predictivo"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Anticipa problemas futuros"})]})]})]})]}),e.jsxs(S,{className:"border-2 border-yellow-200 bg-yellow-50",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-yellow-900 text-sm",children:[e.jsx(xe,{className:"w-4 h-4"}),"Consejos de Uso"]})}),e.jsxs(A,{className:"space-y-1 text-xs text-yellow-800",children:[e.jsx("p",{children:"• Sé específico en tus consultas"}),e.jsx("p",{children:"• Adjunta reportes para análisis detallados"}),e.jsx("p",{children:"• Consulta por periodos específicos"}),e.jsx("p",{children:"• Solicita recomendaciones concretas"})]})]})]})]})]})}function ms(){const s=[{name:"Cristian Xavier Montoya Patin",role:"Director General (CEO)",specialty:"Gestión Estratégica y Sistemas de Control"},{name:"Nayeli Gabriela Figueroa Ramirez",role:"Subdirectora General (COO)",specialty:"Coordinación de Operaciones y Análisis de Datos"},{name:"Santiago Sebastian Rodriguez Romero",role:"Director de Ingeniería de Hardware",specialty:"Infraestructura y Monitoreo en Tiempo Real"},{name:"Santiago Enrique Romero Quinteros",role:"Director de Tecnología (CTO)",specialty:"Arquitectura de Software e Inteligencia Artificial"}],t=[{icon:Bt,title:"Monitoreo en Tiempo Real",description:"Sistema avanzado de monitoreo que proporciona datos actualizados de consumo energético cada segundo."},{icon:ye,title:"Inteligencia Artificial",description:"SparkCheck AI analiza patrones de consumo y proporciona recomendaciones personalizadas para optimización."},{icon:le,title:"Gestión Proactiva",description:"Detección temprana de anomalías y alertas predictivas para prevenir fallas en el sistema."},{icon:$t,title:"Reportes Detallados",description:"Generación de reportes completos con análisis de tendencias, costos y oportunidades de ahorro."}];return e.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-full",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center shadow-2xl",children:e.jsx($,{className:"w-12 h-12 text-white"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Sistema de Gestión de Emergencias"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Control EMS - Energy Management System"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(S,{className:"border-2 bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-blue-900",children:[e.jsx(Ka,{className:"w-6 h-6"}),"Nuestra Misión"]})}),e.jsx(A,{className:"text-blue-800",children:e.jsx("p",{children:"Proporcionar una solución integral de gestión energética que permita a las organizaciones monitorear, analizar y optimizar su consumo de energía eléctrica de manera eficiente, contribuyendo a la sostenibilidad ambiental y la reducción de costos operativos."})})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(ye,{className:"w-6 h-6"}),"Nuestra Visión"]})}),e.jsx(A,{className:"text-yellow-800",children:e.jsx("p",{children:"Ser la plataforma líder en gestión energética inteligente, integrando tecnologías de vanguardia como inteligencia artificial y análisis predictivo para revolucionar la forma en que las empresas gestionan su energía y reducen su huella de carbono."})})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-6 h-6 text-yellow-500"}),"Acerca del Sistema EMS"]}),e.jsx(O,{children:"Sistema de Gestión de Energía de Última Generación"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Control EMS es un sistema avanzado de gestión energética diseñado para proporcionar visibilidad completa y control sobre el consumo de energía en instalaciones industriales, comerciales y residenciales. Utilizando tecnología de punta en monitoreo en tiempo real, análisis de datos e inteligencia artificial, nuestro sistema ayuda a identificar oportunidades de ahorro, prevenir fallas y optimizar el uso de energía."}),e.jsx(te,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((a,l)=>{const n=a.icon;return e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(n,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]},l)})})]})]}),e.jsxs(S,{className:"border-2",children:[e.jsxs(F,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Qa,{className:"w-6 h-6 text-blue-600"}),"Nuestro Equipo de Ingenieros"]}),e.jsx(O,{children:"Equipo multidisciplinario comprometido con la excelencia en gestión energética"})]}),e.jsx(A,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((a,l)=>e.jsx("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-yellow-400 transition-all duration-300 hover:shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:a.name.split(" ").map(n=>n[0]).slice(0,2).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:a.name}),e.jsx(I,{className:"bg-blue-100 text-blue-700 mb-2",children:a.role}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Especialidad: ",a.specialty]})]})]})},l))})})]}),e.jsxs(S,{className:"border-2 bg-gradient-to-br from-yellow-50 to-yellow-100",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2 text-yellow-900",children:[e.jsx(js,{className:"w-6 h-6"}),"Información de Contacto"]})}),e.jsxs(A,{className:"text-yellow-800 space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Control EMS - Sistema de Gestión Energética"}),e.jsx("p",{className:"text-sm",children:"Versión 1.0.0 • Enero 2026"}),e.jsx("p",{className:"text-sm",children:"© 2026 Control EMS. Desarrollado por un equipo de ingenieros especializados."}),e.jsx("div",{className:"mt-4 pt-4 border-t border-yellow-200",children:e.jsx("p",{className:"text-xs text-yellow-700",children:"Este sistema ha sido desarrollado como parte de un proyecto de investigación y desarrollo en gestión energética inteligente, aplicando las mejores prácticas de la industria y tecnologías emergentes en el campo de la eficiencia energética."})})]})]})]})}function xn({onLogout:s}){const[t,a]=h.useState("about"),l=()=>{switch(t){case"about":return e.jsx(ms,{});case"dashboard":return e.jsx(Sr,{});case"analysis":case"analysis-realtime":return e.jsx(Vr,{});case"analysis-imported":return e.jsx(Ur,{});case"configuration":return e.jsx(on,{});case"reports":return e.jsx(ln,{});case"sparkcheck":return e.jsx(mn,{});case"settings":return e.jsx(cn,{});default:return e.jsx(ms,{})}};return e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(nr,{currentPage:t,onPageChange:a,onLogout:s})}),e.jsx("main",{className:"flex-1 overflow-auto",children:l()})]})}function un({onLoginSuccess:s}){const[t,a]=h.useState(""),[l,n]=h.useState(""),[c,i]=h.useState(""),[g,f]=h.useState(!1),m={username:"admin",password:"password123"},x=d=>{d.preventDefault(),i(""),t===m.username&&l===m.password?s():i("Usuario o contraseña incorrectos")};return g?e.jsx(hn,{onBack:()=>f(!1),onSuccess:s}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-yellow-400/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx(S,{className:"w-full max-w-md relative z-10 bg-white/95 backdrop-blur-sm shadow-2xl border-0",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 mb-4 shadow-lg",children:e.jsx($,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl mb-2 text-gray-900",children:"Sistema EMS"}),e.jsx("p",{className:"text-gray-600",children:"Gestión de Emergencias"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c&&e.jsxs(ue,{variant:"destructive",className:"bg-red-50 border-red-200",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx(he,{children:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"username",className:"text-gray-700",children:"Usuario"}),e.jsx(Y,{id:"username",type:"text",value:t,onChange:d=>a(d.target.value),placeholder:"Ingrese su usuario",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"password",className:"text-gray-700",children:"Contraseña"}),e.jsx(Y,{id:"password",type:"password",value:l,onChange:d=>n(d.target.value),placeholder:"Ingrese su contraseña",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsx(P,{type:"submit",className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white shadow-lg",children:"Iniciar Sesión"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-blue-600 hover:text-blue-800 text-sm transition-colors",children:"¿Olvidaste tu contraseña?"})})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Demo:"})," usuario: admin | contraseña: password123"]})})]})})]})}function hn({onBack:s,onSuccess:t}){const[a,l]=h.useState(null),[n,c]=h.useState("method"),[i,g]=h.useState(""),[f,m]=h.useState(""),[x,d]=h.useState(["","",""]),[u,r]=h.useState(""),[v,o]=h.useState(""),p=[{question:"¿Cuál es el nombre de tu primera mascota?",answer:"max"},{question:"¿En qué ciudad naciste?",answer:"monterrey"},{question:"¿Cuál es tu color favorito?",answer:"azul"}],j=w=>{l(w),r(""),o(""),c(w==="quiz"?"verify":"method")},k=async()=>{if(r(""),o(""),!i){r("Por favor ingrese su número de teléfono");return}try{const w=new URLSearchParams,E=await fetch(`/api/send-code/?${w.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:i,method:a})}),R=await E.json();if(!E.ok){r(R.error||"Error enviando código");return}let C=`Código enviado vía ${a==="sms"?"SMS":"WhatsApp"} a ${i}`;R.debug_code&&(C+=` (Código demo: ${R.debug_code})`),o(C),c("verify")}catch{r("Error de conexión al enviar el código")}},_=async()=>{if(r(""),o(""),!f){r("Ingrese el código de verificación");return}try{const w=await fetch("/api/verify-code/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:i,code:f})}),E=await w.json();if(!w.ok){r(E.error||"Código incorrecto");return}o("¡Código verificado! Contraseña recuperada exitosamente."),setTimeout(()=>t(),1200)}catch{r("Error de conexión al verificar el código")}},b=()=>{p.every((E,R)=>x[R].toLowerCase().trim()===E.answer)?(o("¡Respuestas correctas! Contraseña recuperada exitosamente."),setTimeout(()=>{t()},1500)):r("Una o más respuestas son incorrectas. Intente nuevamente.")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-yellow-400/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx(S,{className:"w-full max-w-md relative z-10 bg-white/95 backdrop-blur-sm shadow-2xl border-0",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(P,{variant:"ghost",onClick:s,className:"mb-4 text-blue-600 hover:text-blue-800 hover:bg-blue-50",children:"← Volver al inicio"}),e.jsx("h2",{className:"text-2xl text-gray-900",children:"Recuperar Contraseña"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Seleccione un método de recuperación"})]}),u&&e.jsxs(ue,{variant:"destructive",className:"mb-4 bg-red-50 border-red-200",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx(he,{children:u})]}),v&&e.jsx(ue,{className:"mb-4 bg-blue-50 border-blue-200",children:e.jsx(he,{className:"text-blue-800",children:v})}),n==="method"&&!a&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(P,{onClick:()=>j("sms"),variant:"outline",className:"w-full justify-start h-auto py-4 border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:"📱"}),e.jsx("span",{children:"Mensaje SMS"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Recibir código por mensaje de texto"})]})}),e.jsx(P,{onClick:()=>j("whatsapp"),variant:"outline",className:"w-full justify-start h-auto py-4 border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:"💬"}),e.jsx("span",{children:"WhatsApp"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Recibir código por WhatsApp"})]})}),e.jsx(P,{onClick:()=>j("quiz"),variant:"outline",className:"w-full justify-start h-auto py-4 border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:"❓"}),e.jsx("span",{children:"Preguntas de Seguridad"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Responder preguntas de seguridad"})]})})]}),n==="method"&&(a==="sms"||a==="whatsapp")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"phone",className:"text-gray-700",children:"Número de Teléfono"}),e.jsx(Y,{id:"phone",type:"tel",value:i,onChange:w=>g(w.target.value),placeholder:"+52 1234567890",className:"border-gray-300 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ingrese el número registrado en su cuenta"})]}),e.jsx(P,{onClick:k,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white",children:"Enviar Código"})]}),n==="verify"&&(a==="sms"||a==="whatsapp")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"code",className:"text-gray-700",children:"Código de Verificación"}),e.jsx(Y,{id:"code",type:"text",value:f,onChange:w=>m(w.target.value),placeholder:"123456",maxLength:6,className:"border-gray-300 focus:border-blue-500 text-center text-2xl tracking-widest"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ingrese el código de 6 dígitos recibido"})]}),e.jsx(P,{onClick:_,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white",children:"Verificar Código"}),e.jsx(P,{onClick:()=>c("method"),variant:"outline",className:"w-full border-gray-300 hover:bg-gray-50",children:"Cambiar método"})]}),n==="verify"&&a==="quiz"&&e.jsxs("div",{className:"space-y-4",children:[p.map((w,E)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:`quiz-${E}`,className:"text-gray-700",children:w.question}),e.jsx(Y,{id:`quiz-${E}`,type:"text",value:x[E],onChange:R=>{const L=[...x];L[E]=R.target.value,d(L)},placeholder:"Su respuesta",className:"border-gray-300 focus:border-blue-500"})]},E)),e.jsx(P,{onClick:b,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white",children:"Verificar Respuestas"}),e.jsx(P,{onClick:()=>{l(null),c("method")},variant:"outline",className:"w-full border-gray-300 hover:bg-gray-50",children:"Cambiar método"}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded border border-blue-200",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Respuestas demo:"})," max, monterrey, azul"]})})]})]})})]})}function pn(){const[s,t]=h.useState(!1),a=()=>{t(!1)};return s?e.jsx(xn,{onLogout:a}):e.jsx(un,{onLoginSuccess:()=>t(!0)})}Ft.createRoot(document.getElementById("root")).render(e.jsx(pn,{}));
